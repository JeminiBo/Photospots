[debug] [2023-05-23T11:23:21.367Z] ----------------------------------------------------------------------
[debug] [2023-05-23T11:23:21.369Z] Command:       /usr/local/bin/firebase /home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/bin/firebase emulators:start --only functions
[debug] [2023-05-23T11:23:21.369Z] CLI Version:   12.0.0
[debug] [2023-05-23T11:23:21.369Z] Platform:      linux
[debug] [2023-05-23T11:23:21.369Z] Node Version:  v16.16.0
[debug] [2023-05-23T11:23:21.370Z] Time:          Tue May 23 2023 14:23:21 GMT+0300 (Moscow Standard Time)
[debug] [2023-05-23T11:23:21.370Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-05-23T11:23:21.445Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-05-23T11:23:21.445Z] > authorizing via signed-in user (joikervik@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2023-05-23T11:23:21.451Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-05-23T11:23:21.451Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-05-23T11:23:21.461Z] [hub] writing locator at /tmp/hub-photospots-test.json
[debug] [2023-05-23T11:23:21.479Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-05-23T11:23:21.479Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-05-23T11:23:21.479Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage\u001b[22m"}}
[debug] [2023-05-23T11:23:21.483Z] defaultcredentials: writing to file /home/pavel/.config/firebase/joikervik_gmail_com_application_default_credentials.json
[debug] [2023-05-23T11:23:21.485Z] Setting GAC to /home/pavel/.config/firebase/joikervik_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/pavel/.config/firebase/joikervik_gmail_com_application_default_credentials.json"}}
[debug] [2023-05-23T11:23:21.486Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/photospots-test/adminSdkConfig [none]
[debug] [2023-05-23T11:23:21.781Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/photospots-test/adminSdkConfig 200
[debug] [2023-05-23T11:23:21.782Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/photospots-test/adminSdkConfig {"projectId":"photospots-test","databaseURL":"https://photospots-test-default-rtdb.firebaseio.com","storageBucket":"photospots-test.appspot.com"}
[debug] [2023-05-23T11:23:21.804Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-05-23T11:23:21.805Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-05-23T11:23:21.805Z] Starting Emulator UI with command {"binary":"node","args":["/home/pavel/.cache/firebase/emulators/ui-v1.11.6/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/home/pavel/.cache/firebase/emulators/ui-v1.11.6/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-05-23T11:23:22.010Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-05-23T11:23:22.010Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/home/pavel/work/react-native/Photospots/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/pavel/work/react-native/Photospots/functions\" for Cloud Functions..."}}
[debug] [2023-05-23T11:23:22.075Z] Validating nodejs source
[debug] [2023-05-23T11:23:22.794Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:23:22.794Z] Building nodejs source
[debug] [2023-05-23T11:23:22.795Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:23:22.798Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:23:22.801Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:23:23.168Z] Serving at port 8887

[debug] [2023-05-23T11:23:23.297Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:23:23.303Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[info] ✔  functions[us-central1-addRole]: http function initialized (http://127.0.0.1:5001/photospots-test/us-central1/addRole). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/photospots-test/us-central1/addRole)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-05-23T11:30:38.970Z] [work-queue] {"queuedWork":["/photospots-test/us-central1/addRole-2023-05-23T11:30:38.970Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T11:30:38.971Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/photospots-test/us-central1/addRole-2023-05-23T11:30:38.970Z"],"workRunningCount":1}
[debug] [2023-05-23T11:30:38.972Z] Accepted request POST /photospots-test/us-central1/addRole --> us-central1-addRole
[debug] [2023-05-23T11:30:38.976Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-23T11:30:38.977Z] [functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/"}}
[debug] [2023-05-23T11:30:38.986Z] [worker-pool] addWorker(us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-addRole)"}}
[debug] [2023-05-23T11:30:38.987Z] [worker-pool] Adding worker with key us-central1-addRole, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-addRole, total=1"}}
[debug] [2023-05-23T11:30:40.059Z] [runtime-status] [11534] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [11534] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T11:30:40.059Z] [runtime-status] [11534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [11534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:30:40.060Z] [runtime-status] [11534] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [11534] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-23T11:30:40.063Z] [runtime-status] [11534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [11534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:30:40.230Z] [runtime-status] [11534] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [11534] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-23T11:30:40.230Z] [runtime-status] [11534] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [11534] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-23T11:30:40.231Z] [runtime-status] [11534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [11534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:30:40.232Z] [runtime-status] [11534] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [11534] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T11:30:40.234Z] [runtime-status] [11534] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [11534] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:30:40.234Z] [runtime-status] [11534] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [11534] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-23T11:30:40.239Z] [runtime-status] [11534] initializeApp(DEFAULT) {"storageBucket":"photospots-test.appspot.com","databaseURL":"https://photospots-test-default-rtdb.firebaseio.com","projectId":"photospots-test"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [11534] initializeApp(DEFAULT) {\"storageBucket\":\"photospots-test.appspot.com\",\"databaseURL\":\"https://photospots-test-default-rtdb.firebaseio.com\",\"projectId\":\"photospots-test\"}"}}
[debug] [2023-05-23T11:30:40.249Z] [runtime-status] [11534] Functions runtime initialized. {"cwd":"/home/pavel/work/react-native/Photospots/functions","node_version":"16.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [11534] Functions runtime initialized. {\"cwd\":\"/home/pavel/work/react-native/Photospots/functions\",\"node_version\":\"16.16.0\"}"}}
[debug] [2023-05-23T11:30:40.250Z] [runtime-status] [11534] Listening to port: /tmp/fire_emu_507948f284bc768c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [11534] Listening to port: /tmp/fire_emu_507948f284bc768c.sock"}}
[debug] [2023-05-23T11:30:40.319Z] [worker-us-central1-addRole-ddecd1ed-3eaf-4701-9b5f-7632db989dda]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ddecd1ed-3eaf-4701-9b5f-7632db989dda]: IDLE"}}
[debug] [2023-05-23T11:30:40.321Z] [worker-pool] submitRequest(triggerId=us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-addRole)"}}
[info] i  functions: Beginning execution of "us-central1-addRole" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Beginning execution of \"us-central1-addRole\""}}
[debug] [2023-05-23T11:30:40.323Z] [worker-us-central1-addRole-ddecd1ed-3eaf-4701-9b5f-7632db989dda]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ddecd1ed-3eaf-4701-9b5f-7632db989dda]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[warn] ⚠  functions: The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"The Firebase Authentication emulator is not running, so calls to Firebase Authentication will affect production."}}
[debug] [2023-05-23T11:30:41.174Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-addRole" in 851.533177ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finished \"us-central1-addRole\" in 851.533177ms"}}
[debug] [2023-05-23T11:30:41.178Z] [worker-us-central1-addRole-ddecd1ed-3eaf-4701-9b5f-7632db989dda]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ddecd1ed-3eaf-4701-9b5f-7632db989dda]: IDLE"}}
[debug] [2023-05-23T11:30:41.179Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-05-23T11:30:41.179Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-05-23T11:30:41.180Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T11:44:46.075Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:44:47.078Z] Validating nodejs source
[debug] [2023-05-23T11:44:48.507Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:44:48.507Z] Building nodejs source
[debug] [2023-05-23T11:44:48.507Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:44:48.510Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:44:48.514Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:44:48.923Z] Serving at port 8801

[debug] [2023-05-23T11:44:49.040Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:44:49.045Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:44:49.058Z] [worker-pool] Shutting down IDLE worker (us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-addRole)"}}
[debug] [2023-05-23T11:44:49.058Z] [worker-us-central1-addRole-ddecd1ed-3eaf-4701-9b5f-7632db989dda]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ddecd1ed-3eaf-4701-9b5f-7632db989dda]: FINISHING"}}
[debug] [2023-05-23T11:44:49.068Z] [worker-us-central1-addRole-ddecd1ed-3eaf-4701-9b5f-7632db989dda]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ddecd1ed-3eaf-4701-9b5f-7632db989dda]: exited"}}
[debug] [2023-05-23T11:44:49.068Z] [worker-us-central1-addRole-ddecd1ed-3eaf-4701-9b5f-7632db989dda]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ddecd1ed-3eaf-4701-9b5f-7632db989dda]: FINISHED"}}
[debug] [2023-05-23T11:44:59.907Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:45:00.908Z] Validating nodejs source
[debug] [2023-05-23T11:45:01.709Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:45:01.710Z] Building nodejs source
[debug] [2023-05-23T11:45:01.710Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:45:01.711Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:45:01.712Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:45:02.071Z] Serving at port 8718

[debug] [2023-05-23T11:45:02.222Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:45:02.226Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:45:06.734Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:45:07.735Z] Validating nodejs source
[debug] [2023-05-23T11:45:08.507Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:45:08.507Z] Building nodejs source
[debug] [2023-05-23T11:45:08.507Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:45:08.508Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:45:08.510Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:45:08.864Z] Serving at port 8008

[debug] [2023-05-23T11:45:08.983Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:45:08.986Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:45:24.313Z] [work-queue] {"queuedWork":["/photospots-test/us-central1/addRole-2023-05-23T11:45:24.313Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T11:45:24.313Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/photospots-test/us-central1/addRole-2023-05-23T11:45:24.313Z"],"workRunningCount":1}
[debug] [2023-05-23T11:45:24.314Z] Accepted request POST /photospots-test/us-central1/addRole --> us-central1-addRole
[debug] [2023-05-23T11:45:24.318Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-23T11:45:24.322Z] [functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/"}}
[debug] [2023-05-23T11:45:24.323Z] [worker-pool] Cleaned up workers for us-central1-addRole: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-addRole: 1 --> 0"}}
[debug] [2023-05-23T11:45:24.336Z] [worker-pool] addWorker(us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-addRole)"}}
[debug] [2023-05-23T11:45:24.337Z] [worker-pool] Adding worker with key us-central1-addRole, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-addRole, total=1"}}
[debug] [2023-05-23T11:45:25.074Z] [runtime-status] [14782] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14782] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T11:45:25.075Z] [runtime-status] [14782] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14782] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:45:25.075Z] [runtime-status] [14782] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14782] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-23T11:45:25.076Z] [runtime-status] [14782] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14782] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:45:25.231Z] [runtime-status] [14782] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14782] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-23T11:45:25.231Z] [runtime-status] [14782] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14782] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-23T11:45:25.233Z] [runtime-status] [14782] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14782] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:45:25.234Z] [runtime-status] [14782] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14782] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T11:45:25.237Z] [runtime-status] [14782] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14782] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:45:25.237Z] [runtime-status] [14782] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14782] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-23T11:45:25.240Z] [runtime-status] [14782] initializeApp(DEFAULT) {"storageBucket":"photospots-test.appspot.com","databaseURL":"https://photospots-test-default-rtdb.firebaseio.com","projectId":"photospots-test"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14782] initializeApp(DEFAULT) {\"storageBucket\":\"photospots-test.appspot.com\",\"databaseURL\":\"https://photospots-test-default-rtdb.firebaseio.com\",\"projectId\":\"photospots-test\"}"}}
[debug] [2023-05-23T11:45:25.250Z] [runtime-status] [14782] Functions runtime initialized. {"cwd":"/home/pavel/work/react-native/Photospots/functions","node_version":"16.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14782] Functions runtime initialized. {\"cwd\":\"/home/pavel/work/react-native/Photospots/functions\",\"node_version\":\"16.16.0\"}"}}
[debug] [2023-05-23T11:45:25.250Z] [runtime-status] [14782] Listening to port: /tmp/fire_emu_3498295da0827631.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14782] Listening to port: /tmp/fire_emu_3498295da0827631.sock"}}
[debug] [2023-05-23T11:45:25.366Z] [worker-us-central1-addRole-fb69607a-e900-4535-a74f-d432aec7083c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-fb69607a-e900-4535-a74f-d432aec7083c]: IDLE"}}
[debug] [2023-05-23T11:45:25.367Z] [worker-pool] submitRequest(triggerId=us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-addRole)"}}
[info] i  functions: Beginning execution of "us-central1-addRole" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Beginning execution of \"us-central1-addRole\""}}
[debug] [2023-05-23T11:45:25.369Z] [worker-us-central1-addRole-fb69607a-e900-4535-a74f-d432aec7083c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-fb69607a-e900-4535-a74f-d432aec7083c]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'app')\n    at /home/pavel/work/react-native/Photospots/functions/index.js:7:15\n    at fixedLen (/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\n    at /home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runFunction (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\n    at async /home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'app')\n    at /home/pavel/work/react-native/Photospots/functions/index.js:7:15\n    at fixedLen (/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\n    at /home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runFunction (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\n    at async /home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'app')\\n    at /home/pavel/work/react-native/Photospots/functions/index.js:7:15\\n    at fixedLen (/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\\n    at /home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async runFunction (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\\n    at async /home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21\"}"}}
[debug] [2023-05-23T11:45:25.391Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-addRole" in 22.406761ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finished \"us-central1-addRole\" in 22.406761ms"}}
[debug] [2023-05-23T11:45:25.392Z] [worker-us-central1-addRole-fb69607a-e900-4535-a74f-d432aec7083c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-fb69607a-e900-4535-a74f-d432aec7083c]: IDLE"}}
[debug] [2023-05-23T11:45:25.392Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-05-23T11:45:25.392Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-05-23T11:45:25.392Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T11:45:57.962Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:45:58.963Z] Validating nodejs source
[debug] [2023-05-23T11:45:59.666Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:45:59.667Z] Building nodejs source
[debug] [2023-05-23T11:45:59.667Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:45:59.669Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:45:59.671Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:46:00.021Z] Serving at port 8124

[debug] [2023-05-23T11:46:00.136Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:46:00.142Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:46:00.155Z] [worker-pool] Shutting down IDLE worker (us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-addRole)"}}
[debug] [2023-05-23T11:46:00.156Z] [worker-us-central1-addRole-fb69607a-e900-4535-a74f-d432aec7083c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-fb69607a-e900-4535-a74f-d432aec7083c]: FINISHING"}}
[debug] [2023-05-23T11:46:00.162Z] [worker-us-central1-addRole-fb69607a-e900-4535-a74f-d432aec7083c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-fb69607a-e900-4535-a74f-d432aec7083c]: exited"}}
[debug] [2023-05-23T11:46:00.163Z] [worker-us-central1-addRole-fb69607a-e900-4535-a74f-d432aec7083c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-fb69607a-e900-4535-a74f-d432aec7083c]: FINISHED"}}
[debug] [2023-05-23T11:46:00.215Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:46:01.217Z] Validating nodejs source
[debug] [2023-05-23T11:46:02.066Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:46:02.066Z] Building nodejs source
[debug] [2023-05-23T11:46:02.066Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:46:02.068Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:46:02.069Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:46:02.075Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:46:02.447Z] Serving at port 8680

[debug] [2023-05-23T11:46:02.571Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:46:02.575Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:46:03.077Z] Validating nodejs source
[debug] [2023-05-23T11:46:03.854Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:46:03.854Z] Building nodejs source
[debug] [2023-05-23T11:46:03.854Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:46:03.855Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:46:03.856Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:46:03.877Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:46:04.295Z] Serving at port 8246

[debug] [2023-05-23T11:46:04.457Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:46:04.461Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:46:04.879Z] Validating nodejs source
[debug] [2023-05-23T11:46:05.716Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:46:05.717Z] Building nodejs source
[debug] [2023-05-23T11:46:05.717Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:46:05.719Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:46:05.720Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:46:06.216Z] Serving at port 8119

[debug] [2023-05-23T11:46:06.402Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:46:06.411Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:46:10.854Z] [work-queue] {"queuedWork":["/photospots-test/us-central1/addRole-2023-05-23T11:46:10.854Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T11:46:10.854Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/photospots-test/us-central1/addRole-2023-05-23T11:46:10.854Z"],"workRunningCount":1}
[debug] [2023-05-23T11:46:10.854Z] Accepted request POST /photospots-test/us-central1/addRole --> us-central1-addRole
[debug] [2023-05-23T11:46:10.861Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-23T11:46:10.861Z] [functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/"}}
[debug] [2023-05-23T11:46:10.861Z] [worker-pool] Cleaned up workers for us-central1-addRole: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-addRole: 1 --> 0"}}
[debug] [2023-05-23T11:46:10.874Z] [worker-pool] addWorker(us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-addRole)"}}
[debug] [2023-05-23T11:46:10.875Z] [worker-pool] Adding worker with key us-central1-addRole, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-addRole, total=1"}}
[debug] [2023-05-23T11:46:11.691Z] [runtime-status] [15177] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15177] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T11:46:11.692Z] [runtime-status] [15177] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15177] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:46:11.693Z] [runtime-status] [15177] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15177] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-23T11:46:11.693Z] [runtime-status] [15177] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15177] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:46:11.859Z] [runtime-status] [15177] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15177] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-23T11:46:11.860Z] [runtime-status] [15177] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15177] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-23T11:46:11.861Z] [runtime-status] [15177] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15177] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:46:11.862Z] [runtime-status] [15177] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15177] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T11:46:11.863Z] [runtime-status] [15177] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15177] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:46:11.864Z] [runtime-status] [15177] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15177] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-23T11:46:11.867Z] [runtime-status] [15177] initializeApp(DEFAULT) {"storageBucket":"photospots-test.appspot.com","databaseURL":"https://photospots-test-default-rtdb.firebaseio.com","projectId":"photospots-test"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15177] initializeApp(DEFAULT) {\"storageBucket\":\"photospots-test.appspot.com\",\"databaseURL\":\"https://photospots-test-default-rtdb.firebaseio.com\",\"projectId\":\"photospots-test\"}"}}
[debug] [2023-05-23T11:46:11.876Z] [runtime-status] [15177] Functions runtime initialized. {"cwd":"/home/pavel/work/react-native/Photospots/functions","node_version":"16.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15177] Functions runtime initialized. {\"cwd\":\"/home/pavel/work/react-native/Photospots/functions\",\"node_version\":\"16.16.0\"}"}}
[debug] [2023-05-23T11:46:11.883Z] [runtime-status] [15177] Listening to port: /tmp/fire_emu_c65ed89f0de55bde.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15177] Listening to port: /tmp/fire_emu_c65ed89f0de55bde.sock"}}
[debug] [2023-05-23T11:46:11.889Z] [worker-us-central1-addRole-a9832c2d-d05d-4014-8c0b-43c9c7acd0ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-a9832c2d-d05d-4014-8c0b-43c9c7acd0ba]: IDLE"}}
[debug] [2023-05-23T11:46:11.889Z] [worker-pool] submitRequest(triggerId=us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-addRole)"}}
[info] i  functions: Beginning execution of "us-central1-addRole" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Beginning execution of \"us-central1-addRole\""}}
[debug] [2023-05-23T11:46:11.890Z] [worker-us-central1-addRole-a9832c2d-d05d-4014-8c0b-43c9c7acd0ba]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-a9832c2d-d05d-4014-8c0b-43c9c7acd0ba]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  CONTEXT undefined {"user":"CONTEXT undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m CONTEXT undefined"}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'app')\n    at /home/pavel/work/react-native/Photospots/functions/index.js:8:15\n    at fixedLen (/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\n    at /home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runFunction (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\n    at async /home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'app')\n    at /home/pavel/work/react-native/Photospots/functions/index.js:8:15\n    at fixedLen (/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\n    at /home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runFunction (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\n    at async /home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'app')\\n    at /home/pavel/work/react-native/Photospots/functions/index.js:8:15\\n    at fixedLen (/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\\n    at /home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async runFunction (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\\n    at async /home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21\"}"}}
[debug] [2023-05-23T11:46:11.912Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-addRole" in 22.593234ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finished \"us-central1-addRole\" in 22.593234ms"}}
[debug] [2023-05-23T11:46:11.915Z] [worker-us-central1-addRole-a9832c2d-d05d-4014-8c0b-43c9c7acd0ba]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-a9832c2d-d05d-4014-8c0b-43c9c7acd0ba]: IDLE"}}
[debug] [2023-05-23T11:46:11.915Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-05-23T11:46:11.915Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-05-23T11:46:11.915Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T11:46:32.910Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:46:33.913Z] Validating nodejs source
[debug] [2023-05-23T11:46:34.687Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:46:34.687Z] Building nodejs source
[debug] [2023-05-23T11:46:34.688Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:46:34.689Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:46:34.690Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:46:35.040Z] Serving at port 8250

[debug] [2023-05-23T11:46:35.168Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:46:35.177Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:46:35.190Z] [worker-pool] Shutting down IDLE worker (us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-addRole)"}}
[debug] [2023-05-23T11:46:35.190Z] [worker-us-central1-addRole-a9832c2d-d05d-4014-8c0b-43c9c7acd0ba]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-a9832c2d-d05d-4014-8c0b-43c9c7acd0ba]: FINISHING"}}
[debug] [2023-05-23T11:46:35.199Z] [worker-us-central1-addRole-a9832c2d-d05d-4014-8c0b-43c9c7acd0ba]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-a9832c2d-d05d-4014-8c0b-43c9c7acd0ba]: exited"}}
[debug] [2023-05-23T11:46:35.201Z] [worker-us-central1-addRole-a9832c2d-d05d-4014-8c0b-43c9c7acd0ba]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-a9832c2d-d05d-4014-8c0b-43c9c7acd0ba]: FINISHED"}}
[debug] [2023-05-23T11:46:40.965Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:46:41.967Z] Validating nodejs source
[debug] [2023-05-23T11:46:42.756Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:46:42.757Z] Building nodejs source
[debug] [2023-05-23T11:46:42.757Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:46:42.759Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:46:42.760Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:46:43.180Z] Serving at port 8675

[debug] [2023-05-23T11:46:43.326Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:46:43.330Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:46:49.525Z] [work-queue] {"queuedWork":["/photospots-test/us-central1/addRole-2023-05-23T11:46:49.525Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T11:46:49.525Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/photospots-test/us-central1/addRole-2023-05-23T11:46:49.525Z"],"workRunningCount":1}
[debug] [2023-05-23T11:46:49.526Z] Accepted request POST /photospots-test/us-central1/addRole --> us-central1-addRole
[debug] [2023-05-23T11:46:49.531Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-23T11:46:49.532Z] [functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/"}}
[debug] [2023-05-23T11:46:49.532Z] [worker-pool] Cleaned up workers for us-central1-addRole: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-addRole: 1 --> 0"}}
[debug] [2023-05-23T11:46:49.541Z] [worker-pool] addWorker(us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-addRole)"}}
[debug] [2023-05-23T11:46:49.541Z] [worker-pool] Adding worker with key us-central1-addRole, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-addRole, total=1"}}
[debug] [2023-05-23T11:46:50.285Z] [runtime-status] [15486] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15486] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T11:46:50.286Z] [runtime-status] [15486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:46:50.287Z] [runtime-status] [15486] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15486] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-23T11:46:50.287Z] [runtime-status] [15486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:46:50.435Z] [runtime-status] [15486] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15486] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-23T11:46:50.436Z] [runtime-status] [15486] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15486] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-23T11:46:50.436Z] [runtime-status] [15486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:46:50.436Z] [runtime-status] [15486] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15486] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T11:46:50.438Z] [runtime-status] [15486] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15486] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:46:50.438Z] [runtime-status] [15486] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15486] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-23T11:46:50.441Z] [runtime-status] [15486] initializeApp(DEFAULT) {"storageBucket":"photospots-test.appspot.com","databaseURL":"https://photospots-test-default-rtdb.firebaseio.com","projectId":"photospots-test"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15486] initializeApp(DEFAULT) {\"storageBucket\":\"photospots-test.appspot.com\",\"databaseURL\":\"https://photospots-test-default-rtdb.firebaseio.com\",\"projectId\":\"photospots-test\"}"}}
[debug] [2023-05-23T11:46:50.449Z] [runtime-status] [15486] Functions runtime initialized. {"cwd":"/home/pavel/work/react-native/Photospots/functions","node_version":"16.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15486] Functions runtime initialized. {\"cwd\":\"/home/pavel/work/react-native/Photospots/functions\",\"node_version\":\"16.16.0\"}"}}
[debug] [2023-05-23T11:46:50.450Z] [runtime-status] [15486] Listening to port: /tmp/fire_emu_7ed884332d0bb628.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [15486] Listening to port: /tmp/fire_emu_7ed884332d0bb628.sock"}}
[debug] [2023-05-23T11:46:50.556Z] [worker-us-central1-addRole-68c7b53f-c8c0-42d8-a78b-5b8d345a4467]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-68c7b53f-c8c0-42d8-a78b-5b8d345a4467]: IDLE"}}
[debug] [2023-05-23T11:46:50.556Z] [worker-pool] submitRequest(triggerId=us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-addRole)"}}
[info] i  functions: Beginning execution of "us-central1-addRole" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Beginning execution of \"us-central1-addRole\""}}
[debug] [2023-05-23T11:46:50.557Z] [worker-us-central1-addRole-68c7b53f-c8c0-42d8-a78b-5b8d345a4467]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-68c7b53f-c8c0-42d8-a78b-5b8d345a4467]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  CONTEXT { {"user":"CONTEXT {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m CONTEXT {"}}
[info] >    rawRequest: <ref *1> IncomingMessage { {"user":"  rawRequest: <ref *1> IncomingMessage {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawRequest: <ref *1> IncomingMessage {"}}
[info] >      _readableState: ReadableState { {"user":"    _readableState: ReadableState {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     _readableState: ReadableState {"}}
[info] >        objectMode: false, {"user":"      objectMode: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       objectMode: false,"}}
[info] >        highWaterMark: 16384, {"user":"      highWaterMark: 16384,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       highWaterMark: 16384,"}}
[info] >        buffer: BufferList { head: null, tail: null, length: 0 }, {"user":"      buffer: BufferList { head: null, tail: null, length: 0 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       buffer: BufferList { head: null, tail: null, length: 0 },"}}
[info] >        length: 0, {"user":"      length: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       length: 0,"}}
[info] >        pipes: [], {"user":"      pipes: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       pipes: [],"}}
[info] >        flowing: true, {"user":"      flowing: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       flowing: true,"}}
[info] >        ended: true, {"user":"      ended: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       ended: true,"}}
[info] >        endEmitted: true, {"user":"      endEmitted: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       endEmitted: true,"}}
[info] >        reading: false, {"user":"      reading: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       reading: false,"}}
[info] >        constructed: true, {"user":"      constructed: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       constructed: true,"}}
[info] >        sync: false, {"user":"      sync: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       sync: false,"}}
[info] >        needReadable: false, {"user":"      needReadable: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       needReadable: false,"}}
[info] >        emittedReadable: false, {"user":"      emittedReadable: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       emittedReadable: false,"}}
[info] >        readableListening: false, {"user":"      readableListening: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       readableListening: false,"}}
[info] >        resumeScheduled: false, {"user":"      resumeScheduled: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       resumeScheduled: false,"}}
[info] >        errorEmitted: false, {"user":"      errorEmitted: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       errorEmitted: false,"}}
[info] >        emitClose: true, {"user":"      emitClose: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       emitClose: true,"}}
[info] >        autoDestroy: true, {"user":"      autoDestroy: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       autoDestroy: true,"}}
[info] >        destroyed: true, {"user":"      destroyed: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       destroyed: true,"}}
[info] >        errored: null, {"user":"      errored: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       errored: null,"}}
[info] >        closed: true, {"user":"      closed: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       closed: true,"}}
[info] >        closeEmitted: true, {"user":"      closeEmitted: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       closeEmitted: true,"}}
[info] >        defaultEncoding: 'utf8', {"user":"      defaultEncoding: 'utf8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       defaultEncoding: 'utf8',"}}
[info] >        awaitDrainWriters: null, {"user":"      awaitDrainWriters: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       awaitDrainWriters: null,"}}
[info] >        multiAwaitDrain: false, {"user":"      multiAwaitDrain: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       multiAwaitDrain: false,"}}
[info] >        readingMore: false, {"user":"      readingMore: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       readingMore: false,"}}
[info] >        dataEmitted: true, {"user":"      dataEmitted: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       dataEmitted: true,"}}
[info] >        decoder: null, {"user":"      decoder: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       decoder: null,"}}
[info] >        encoding: null, {"user":"      encoding: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       encoding: null,"}}
[info] >        [Symbol(kPaused)]: false {"user":"      [Symbol(kPaused)]: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kPaused)]: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _events: [Object: null prototype] { end: [Function: clearRequestTimeout] }, {"user":"    _events: [Object: null prototype] { end: [Function: clearRequestTimeout] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     _events: [Object: null prototype] { end: [Function: clearRequestTimeout] },"}}
[info] >      _eventsCount: 1, {"user":"    _eventsCount: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     _eventsCount: 1,"}}
[info] >      _maxListeners: undefined, {"user":"    _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     _maxListeners: undefined,"}}
[info] >      socket: Socket { {"user":"    socket: Socket {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     socket: Socket {"}}
[info] >        connecting: false, {"user":"      connecting: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       connecting: false,"}}
[info] >        _hadError: false, {"user":"      _hadError: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _hadError: false,"}}
[info] >        _parent: null, {"user":"      _parent: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _parent: null,"}}
[info] >        _host: null, {"user":"      _host: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _host: null,"}}
[info] >        _readableState: [ReadableState], {"user":"      _readableState: [ReadableState],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _readableState: [ReadableState],"}}
[info] >        _events: [Object: null prototype], {"user":"      _events: [Object: null prototype],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _events: [Object: null prototype],"}}
[info] >        _eventsCount: 8, {"user":"      _eventsCount: 8,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _eventsCount: 8,"}}
[info] >        _maxListeners: undefined, {"user":"      _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _maxListeners: undefined,"}}
[info] >        _writableState: [WritableState], {"user":"      _writableState: [WritableState],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _writableState: [WritableState],"}}
[info] >        allowHalfOpen: true, {"user":"      allowHalfOpen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowHalfOpen: true,"}}
[info] >        _sockname: null, {"user":"      _sockname: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _sockname: null,"}}
[info] >        _pendingData: null, {"user":"      _pendingData: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _pendingData: null,"}}
[info] >        _pendingEncoding: '', {"user":"      _pendingEncoding: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _pendingEncoding: '',"}}
[info] >        server: [Server], {"user":"      server: [Server],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: [Server],"}}
[info] >        _server: [Server], {"user":"      _server: [Server],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _server: [Server],"}}
[info] >        parser: [HTTPParser], {"user":"      parser: [HTTPParser],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       parser: [HTTPParser],"}}
[info] >        on: [Function: socketListenerWrap], {"user":"      on: [Function: socketListenerWrap],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       on: [Function: socketListenerWrap],"}}
[info] >        addListener: [Function: socketListenerWrap], {"user":"      addListener: [Function: socketListenerWrap],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       addListener: [Function: socketListenerWrap],"}}
[info] >        prependListener: [Function: socketListenerWrap], {"user":"      prependListener: [Function: socketListenerWrap],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       prependListener: [Function: socketListenerWrap],"}}
[info] >        setEncoding: [Function: socketSetEncoding], {"user":"      setEncoding: [Function: socketSetEncoding],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       setEncoding: [Function: socketSetEncoding],"}}
[info] >        _paused: false, {"user":"      _paused: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _paused: false,"}}
[info] >        _httpMessage: [ServerResponse], {"user":"      _httpMessage: [ServerResponse],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _httpMessage: [ServerResponse],"}}
[info] >        [Symbol(async_id_symbol)]: 48, {"user":"      [Symbol(async_id_symbol)]: 48,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(async_id_symbol)]: 48,"}}
[info] >        [Symbol(kHandle)]: [Pipe], {"user":"      [Symbol(kHandle)]: [Pipe],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kHandle)]: [Pipe],"}}
[info] >        [Symbol(lastWriteQueueSize)]: 0, {"user":"      [Symbol(lastWriteQueueSize)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(lastWriteQueueSize)]: 0,"}}
[info] >        [Symbol(timeout)]: null, {"user":"      [Symbol(timeout)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(timeout)]: null,"}}
[info] >        [Symbol(kBuffer)]: null, {"user":"      [Symbol(kBuffer)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBuffer)]: null,"}}
[info] >        [Symbol(kBufferCb)]: null, {"user":"      [Symbol(kBufferCb)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBufferCb)]: null,"}}
[info] >        [Symbol(kBufferGen)]: null, {"user":"      [Symbol(kBufferGen)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBufferGen)]: null,"}}
[info] >        [Symbol(kCapture)]: false, {"user":"      [Symbol(kCapture)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kCapture)]: false,"}}
[info] >        [Symbol(kSetNoDelay)]: false, {"user":"      [Symbol(kSetNoDelay)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kSetNoDelay)]: false,"}}
[info] >        [Symbol(kSetKeepAlive)]: false, {"user":"      [Symbol(kSetKeepAlive)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kSetKeepAlive)]: false,"}}
[info] >        [Symbol(kSetKeepAliveInitialDelay)]: 0, {"user":"      [Symbol(kSetKeepAliveInitialDelay)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kSetKeepAliveInitialDelay)]: 0,"}}
[info] >        [Symbol(kBytesRead)]: 0, {"user":"      [Symbol(kBytesRead)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBytesRead)]: 0,"}}
[info] >        [Symbol(kBytesWritten)]: 0, {"user":"      [Symbol(kBytesWritten)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBytesWritten)]: 0,"}}
[info] >        [Symbol(RequestTimeout)]: undefined {"user":"      [Symbol(RequestTimeout)]: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(RequestTimeout)]: undefined"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      httpVersionMajor: 1, {"user":"    httpVersionMajor: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     httpVersionMajor: 1,"}}
[info] >      httpVersionMinor: 1, {"user":"    httpVersionMinor: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     httpVersionMinor: 1,"}}
[info] >      httpVersion: '1.1', {"user":"    httpVersion: '1.1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     httpVersion: '1.1',"}}
[info] >      complete: true, {"user":"    complete: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     complete: true,"}}
[info] >      rawHeaders: [ {"user":"    rawHeaders: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     rawHeaders: ["}}
[info] >        'authorization', {"user":"      'authorization',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'authorization',"}}
[info] >        'Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6ImQwZTFkMjM5MDllNzZmZjRhNzJlZTA4ODUxOWM5M2JiOTg4ZjE4NDUiLCJ0eXAiOiJKV1QifQ.eyJwcm92aWRlcl9pZCI6ImFub255bW91cyIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9waG90b3Nwb3RzLXRlc3QiLCJhdWQiOiJwaG90b3Nwb3RzLXRlc3QiLCJhdXRoX3RpbWUiOjE2ODQ4NDE0MTcsInVzZXJfaWQiOiJZYWdGUFhPNURCWEhXamhUUnlZQWhWSGxYdWsxIiwic3ViIjoiWWFnRlBYTzVEQlhIV2poVFJ5WUFoVkhsWHVrMSIsImlhdCI6MTY4NDg0MTQxNywiZXhwIjoxNjg0ODQ1MDE3LCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7fSwic2lnbl9pbl9wcm92aWRlciI6ImFub255bW91cyJ9fQ.MiXk5EX4A_Py5Ep2uD0bjWpUmX0gflHaCtWXIkJzTM7CS_pxq0NBYAB83nfQVeXsfWK8Lr5uqWl4e92jWod28RQASe8GLBrIwjeLRb9AwnaqrBeFi_lu5BwnD3bnh68hHKCfGTmd8few3s-02r4CsajllesM36-ksKRTYLaOVJgnZ3yz3o7tmtTUsa4APR7e6q0fkkdo5VXV5uMcOUVieCbo1CQ_Xu58MNreEii0Uri_WRlzHb8ciCGabdDv1ysD153HhQ6E0A_6VppEpCE56qxdL97f7DMwn9S8H8uUZPAEz4_I2eMBZC1PeH6Q4usbZQh97xIhMFsMSZoNCSW4ZQ', {"user":"      'Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6ImQwZTFkMjM5MDllNzZmZjRhNzJlZTA4ODUxOWM5M2JiOTg4ZjE4NDUiLCJ0eXAiOiJKV1QifQ.eyJwcm92aWRlcl9pZCI6ImFub255bW91cyIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9waG90b3Nwb3RzLXRlc3QiLCJhdWQiOiJwaG90b3Nwb3RzLXRlc3QiLCJhdXRoX3RpbWUiOjE2ODQ4NDE0MTcsInVzZXJfaWQiOiJZYWdGUFhPNURCWEhXamhUUnlZQWhWSGxYdWsxIiwic3ViIjoiWWFnRlBYTzVEQlhIV2poVFJ5WUFoVkhsWHVrMSIsImlhdCI6MTY4NDg0MTQxNywiZXhwIjoxNjg0ODQ1MDE3LCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7fSwic2lnbl9pbl9wcm92aWRlciI6ImFub255bW91cyJ9fQ.MiXk5EX4A_Py5Ep2uD0bjWpUmX0gflHaCtWXIkJzTM7CS_pxq0NBYAB83nfQVeXsfWK8Lr5uqWl4e92jWod28RQASe8GLBrIwjeLRb9AwnaqrBeFi_lu5BwnD3bnh68hHKCfGTmd8few3s-02r4CsajllesM36-ksKRTYLaOVJgnZ3yz3o7tmtTUsa4APR7e6q0fkkdo5VXV5uMcOUVieCbo1CQ_Xu58MNreEii0Uri_WRlzHb8ciCGabdDv1ysD153HhQ6E0A_6VppEpCE56qxdL97f7DMwn9S8H8uUZPAEz4_I2eMBZC1PeH6Q4usbZQh97xIhMFsMSZoNCSW4ZQ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6ImQwZTFkMjM5MDllNzZmZjRhNzJlZTA4ODUxOWM5M2JiOTg4ZjE4NDUiLCJ0eXAiOiJKV1QifQ.eyJwcm92aWRlcl9pZCI6ImFub255bW91cyIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9waG90b3Nwb3RzLXRlc3QiLCJhdWQiOiJwaG90b3Nwb3RzLXRlc3QiLCJhdXRoX3RpbWUiOjE2ODQ4NDE0MTcsInVzZXJfaWQiOiJZYWdGUFhPNURCWEhXamhUUnlZQWhWSGxYdWsxIiwic3ViIjoiWWFnRlBYTzVEQlhIV2poVFJ5WUFoVkhsWHVrMSIsImlhdCI6MTY4NDg0MTQxNywiZXhwIjoxNjg0ODQ1MDE3LCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7fSwic2lnbl9pbl9wcm92aWRlciI6ImFub255bW91cyJ9fQ.MiXk5EX4A_Py5Ep2uD0bjWpUmX0gflHaCtWXIkJzTM7CS_pxq0NBYAB83nfQVeXsfWK8Lr5uqWl4e92jWod28RQASe8GLBrIwjeLRb9AwnaqrBeFi_lu5BwnD3bnh68hHKCfGTmd8few3s-02r4CsajllesM36-ksKRTYLaOVJgnZ3yz3o7tmtTUsa4APR7e6q0fkkdo5VXV5uMcOUVieCbo1CQ_Xu58MNreEii0Uri_WRlzHb8ciCGabdDv1ysD153HhQ6E0A_6VppEpCE56qxdL97f7DMwn9S8H8uUZPAEz4_I2eMBZC1PeH6Q4usbZQh97xIhMFsMSZoNCSW4ZQ',"}}
[info] >        'firebase-instance-id-token', {"user":"      'firebase-instance-id-token',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'firebase-instance-id-token',"}}
[info] >        'cJYYmqj1SVuBo09d3YyFGu:APA91bFG6sWrAqUFn1aIy_oIqrxvjzcNV-8heLURkL47RTVKhgT1sbfRB_mD7Dewdip7KIrxH-08tpvRT6BeiJRxXeg0PKxPvnfxToCXes2qac6Cdp67PTfTSJSdhZZkHOgnCFVT-OCC', {"user":"      'cJYYmqj1SVuBo09d3YyFGu:APA91bFG6sWrAqUFn1aIy_oIqrxvjzcNV-8heLURkL47RTVKhgT1sbfRB_mD7Dewdip7KIrxH-08tpvRT6BeiJRxXeg0PKxPvnfxToCXes2qac6Cdp67PTfTSJSdhZZkHOgnCFVT-OCC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cJYYmqj1SVuBo09d3YyFGu:APA91bFG6sWrAqUFn1aIy_oIqrxvjzcNV-8heLURkL47RTVKhgT1sbfRB_mD7Dewdip7KIrxH-08tpvRT6BeiJRxXeg0PKxPvnfxToCXes2qac6Cdp67PTfTSJSdhZZkHOgnCFVT-OCC',"}}
[info] >        'x-firebase-appcheck', {"user":"      'x-firebase-appcheck',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-firebase-appcheck',"}}
[info] >        'eyJraWQiOiJsWUJXVmciLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIxOjcwNjE0NTQ2OTg3NDphbmRyb2lkOjM5ZGFmZGJmOTFmYjBhYmVlYjUwYWIiLCJhdWQiOlsicHJvamVjdHNcLzcwNjE0NTQ2OTg3NCIsInByb2plY3RzXC9waG90b3Nwb3RzLXRlc3QiXSwicHJvdmlkZXIiOiJkZWJ1ZyIsImlzcyI6Imh0dHBzOlwvXC9maXJlYmFzZWFwcGNoZWNrLmdvb2dsZWFwaXMuY29tXC83MDYxNDU0Njk4NzQiLCJleHAiOjE2ODQ4NDYwMDksImlhdCI6MTY4NDg0MjQwOSwianRpIjoiRy1NOTFFSUxEZGNTLXd4ZExmbUN6dHRNdkUzRTJMdXNDTGJabDFxeXpHOCJ9.YWIihh3k48R4TrTrIoFtPiSxS4_Z6v9KeWnH6m8z0UxGva8e-vr1DIG48_ufA7_zHm2tN5dtFQZEF9xFhyyp8hF-ut7jU7nOVC6TZ0Cfk7fxUaLX9b4QLGXXR0HDhc28rcBxblwDKVE-NJPak6qBOnQv6QZJ0Rhw4tZqDecifOy97qvKJpMUiAoaQhMeMd_MkDXCt0bmG8GEsaLXj984kdvdpxw2ATLaGpkOkwGs1f0Yqq4NnelkBz9bNJiGKsKhggVV4ukPNXsbBaLEoB9X65VoK3AiFXNG66LnwGPI0_S_GeceDRvh0NODUs8-jz5nQfrPvLCr5YHt9igylHxw40VKhvZFU4nUb_HF-yztg-DcAgRV7_EIIKrP9ikSQ9-4tThOX7KuY1-A5DwMA-Og-N6rIo1PChioWOdgZwpta6zYAAz0bwHNF20DLKCqX9JAYh7pM7Fqd8j8kW7mSAwMW9UhJCLhmaJ6GxFfOshJUGKApE7EzXZnuUtKZ72FDh9Y', {"user":"      'eyJraWQiOiJsWUJXVmciLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIxOjcwNjE0NTQ2OTg3NDphbmRyb2lkOjM5ZGFmZGJmOTFmYjBhYmVlYjUwYWIiLCJhdWQiOlsicHJvamVjdHNcLzcwNjE0NTQ2OTg3NCIsInByb2plY3RzXC9waG90b3Nwb3RzLXRlc3QiXSwicHJvdmlkZXIiOiJkZWJ1ZyIsImlzcyI6Imh0dHBzOlwvXC9maXJlYmFzZWFwcGNoZWNrLmdvb2dsZWFwaXMuY29tXC83MDYxNDU0Njk4NzQiLCJleHAiOjE2ODQ4NDYwMDksImlhdCI6MTY4NDg0MjQwOSwianRpIjoiRy1NOTFFSUxEZGNTLXd4ZExmbUN6dHRNdkUzRTJMdXNDTGJabDFxeXpHOCJ9.YWIihh3k48R4TrTrIoFtPiSxS4_Z6v9KeWnH6m8z0UxGva8e-vr1DIG48_ufA7_zHm2tN5dtFQZEF9xFhyyp8hF-ut7jU7nOVC6TZ0Cfk7fxUaLX9b4QLGXXR0HDhc28rcBxblwDKVE-NJPak6qBOnQv6QZJ0Rhw4tZqDecifOy97qvKJpMUiAoaQhMeMd_MkDXCt0bmG8GEsaLXj984kdvdpxw2ATLaGpkOkwGs1f0Yqq4NnelkBz9bNJiGKsKhggVV4ukPNXsbBaLEoB9X65VoK3AiFXNG66LnwGPI0_S_GeceDRvh0NODUs8-jz5nQfrPvLCr5YHt9igylHxw40VKhvZFU4nUb_HF-yztg-DcAgRV7_EIIKrP9ikSQ9-4tThOX7KuY1-A5DwMA-Og-N6rIo1PChioWOdgZwpta6zYAAz0bwHNF20DLKCqX9JAYh7pM7Fqd8j8kW7mSAwMW9UhJCLhmaJ6GxFfOshJUGKApE7EzXZnuUtKZ72FDh9Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'eyJraWQiOiJsWUJXVmciLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIxOjcwNjE0NTQ2OTg3NDphbmRyb2lkOjM5ZGFmZGJmOTFmYjBhYmVlYjUwYWIiLCJhdWQiOlsicHJvamVjdHNcLzcwNjE0NTQ2OTg3NCIsInByb2plY3RzXC9waG90b3Nwb3RzLXRlc3QiXSwicHJvdmlkZXIiOiJkZWJ1ZyIsImlzcyI6Imh0dHBzOlwvXC9maXJlYmFzZWFwcGNoZWNrLmdvb2dsZWFwaXMuY29tXC83MDYxNDU0Njk4NzQiLCJleHAiOjE2ODQ4NDYwMDksImlhdCI6MTY4NDg0MjQwOSwianRpIjoiRy1NOTFFSUxEZGNTLXd4ZExmbUN6dHRNdkUzRTJMdXNDTGJabDFxeXpHOCJ9.YWIihh3k48R4TrTrIoFtPiSxS4_Z6v9KeWnH6m8z0UxGva8e-vr1DIG48_ufA7_zHm2tN5dtFQZEF9xFhyyp8hF-ut7jU7nOVC6TZ0Cfk7fxUaLX9b4QLGXXR0HDhc28rcBxblwDKVE-NJPak6qBOnQv6QZJ0Rhw4tZqDecifOy97qvKJpMUiAoaQhMeMd_MkDXCt0bmG8GEsaLXj984kdvdpxw2ATLaGpkOkwGs1f0Yqq4NnelkBz9bNJiGKsKhggVV4ukPNXsbBaLEoB9X65VoK3AiFXNG66LnwGPI0_S_GeceDRvh0NODUs8-jz5nQfrPvLCr5YHt9igylHxw40VKhvZFU4nUb_HF-yztg-DcAgRV7_EIIKrP9ikSQ9-4tThOX7KuY1-A5DwMA-Og-N6rIo1PChioWOdgZwpta6zYAAz0bwHNF20DLKCqX9JAYh7pM7Fqd8j8kW7mSAwMW9UhJCLhmaJ6GxFfOshJUGKApE7EzXZnuUtKZ72FDh9Y',"}}
[info] >        'content-type', {"user":"      'content-type',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type',"}}
[info] >        'application/json; charset=utf-8', {"user":"      'application/json; charset=utf-8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'application/json; charset=utf-8',"}}
[info] >        'content-length', {"user":"      'content-length',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length',"}}
[info] >        '67', {"user":"      '67',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       '67',"}}
[info] >        'host', {"user":"      'host',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'host',"}}
[info] >        '10.0.2.2:5001', {"user":"      '10.0.2.2:5001',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       '10.0.2.2:5001',"}}
[info] >        'connection', {"user":"      'connection',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'connection',"}}
[info] >        'Keep-Alive', {"user":"      'Keep-Alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'Keep-Alive',"}}
[info] >        'accept-encoding', {"user":"      'accept-encoding',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'accept-encoding',"}}
[info] >        'gzip', {"user":"      'gzip',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'gzip',"}}
[info] >        'user-agent', {"user":"      'user-agent',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'user-agent',"}}
[info] >        'okhttp/4.9.2' {"user":"      'okhttp/4.9.2'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'okhttp/4.9.2'"}}
[info] >      ], {"user":"    ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     ],"}}
[info] >      rawTrailers: [], {"user":"    rawTrailers: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     rawTrailers: [],"}}
[info] >      aborted: false, {"user":"    aborted: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     aborted: false,"}}
[info] >      upgrade: false, {"user":"    upgrade: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     upgrade: false,"}}
[info] >      url: '/', {"user":"    url: '/',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     url: '/',"}}
[info] >      method: 'POST', {"user":"    method: 'POST',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     method: 'POST',"}}
[info] >      statusCode: null, {"user":"    statusCode: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: null,"}}
[info] >      statusMessage: null, {"user":"    statusMessage: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusMessage: null,"}}
[info] >      client: Socket { {"user":"    client: Socket {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     client: Socket {"}}
[info] >        connecting: false, {"user":"      connecting: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       connecting: false,"}}
[info] >        _hadError: false, {"user":"      _hadError: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _hadError: false,"}}
[info] >        _parent: null, {"user":"      _parent: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _parent: null,"}}
[info] >        _host: null, {"user":"      _host: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _host: null,"}}
[info] >        _readableState: [ReadableState], {"user":"      _readableState: [ReadableState],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _readableState: [ReadableState],"}}
[info] >        _events: [Object: null prototype], {"user":"      _events: [Object: null prototype],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _events: [Object: null prototype],"}}
[info] >        _eventsCount: 8, {"user":"      _eventsCount: 8,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _eventsCount: 8,"}}
[info] >        _maxListeners: undefined, {"user":"      _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _maxListeners: undefined,"}}
[info] >        _writableState: [WritableState], {"user":"      _writableState: [WritableState],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _writableState: [WritableState],"}}
[info] >        allowHalfOpen: true, {"user":"      allowHalfOpen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowHalfOpen: true,"}}
[info] >        _sockname: null, {"user":"      _sockname: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _sockname: null,"}}
[info] >        _pendingData: null, {"user":"      _pendingData: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _pendingData: null,"}}
[info] >        _pendingEncoding: '', {"user":"      _pendingEncoding: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _pendingEncoding: '',"}}
[info] >        server: [Server], {"user":"      server: [Server],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: [Server],"}}
[info] >        _server: [Server], {"user":"      _server: [Server],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _server: [Server],"}}
[info] >        parser: [HTTPParser], {"user":"      parser: [HTTPParser],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       parser: [HTTPParser],"}}
[info] >        on: [Function: socketListenerWrap], {"user":"      on: [Function: socketListenerWrap],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       on: [Function: socketListenerWrap],"}}
[info] >        addListener: [Function: socketListenerWrap], {"user":"      addListener: [Function: socketListenerWrap],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       addListener: [Function: socketListenerWrap],"}}
[info] >        prependListener: [Function: socketListenerWrap], {"user":"      prependListener: [Function: socketListenerWrap],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       prependListener: [Function: socketListenerWrap],"}}
[info] >        setEncoding: [Function: socketSetEncoding], {"user":"      setEncoding: [Function: socketSetEncoding],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       setEncoding: [Function: socketSetEncoding],"}}
[info] >        _paused: false, {"user":"      _paused: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _paused: false,"}}
[info] >        _httpMessage: [ServerResponse], {"user":"      _httpMessage: [ServerResponse],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _httpMessage: [ServerResponse],"}}
[info] >        [Symbol(async_id_symbol)]: 48, {"user":"      [Symbol(async_id_symbol)]: 48,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(async_id_symbol)]: 48,"}}
[info] >        [Symbol(kHandle)]: [Pipe], {"user":"      [Symbol(kHandle)]: [Pipe],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kHandle)]: [Pipe],"}}
[info] >        [Symbol(lastWriteQueueSize)]: 0, {"user":"      [Symbol(lastWriteQueueSize)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(lastWriteQueueSize)]: 0,"}}
[info] >        [Symbol(timeout)]: null, {"user":"      [Symbol(timeout)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(timeout)]: null,"}}
[info] >        [Symbol(kBuffer)]: null, {"user":"      [Symbol(kBuffer)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBuffer)]: null,"}}
[info] >        [Symbol(kBufferCb)]: null, {"user":"      [Symbol(kBufferCb)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBufferCb)]: null,"}}
[info] >        [Symbol(kBufferGen)]: null, {"user":"      [Symbol(kBufferGen)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBufferGen)]: null,"}}
[info] >        [Symbol(kCapture)]: false, {"user":"      [Symbol(kCapture)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kCapture)]: false,"}}
[info] >        [Symbol(kSetNoDelay)]: false, {"user":"      [Symbol(kSetNoDelay)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kSetNoDelay)]: false,"}}
[info] >        [Symbol(kSetKeepAlive)]: false, {"user":"      [Symbol(kSetKeepAlive)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kSetKeepAlive)]: false,"}}
[info] >        [Symbol(kSetKeepAliveInitialDelay)]: 0, {"user":"      [Symbol(kSetKeepAliveInitialDelay)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kSetKeepAliveInitialDelay)]: 0,"}}
[info] >        [Symbol(kBytesRead)]: 0, {"user":"      [Symbol(kBytesRead)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBytesRead)]: 0,"}}
[info] >        [Symbol(kBytesWritten)]: 0, {"user":"      [Symbol(kBytesWritten)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kBytesWritten)]: 0,"}}
[info] >        [Symbol(RequestTimeout)]: undefined {"user":"      [Symbol(RequestTimeout)]: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(RequestTimeout)]: undefined"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _consuming: true, {"user":"    _consuming: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     _consuming: true,"}}
[info] >      _dumped: false, {"user":"    _dumped: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     _dumped: false,"}}
[info] >      next: [Function: next], {"user":"    next: [Function: next],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     next: [Function: next],"}}
[info] >      baseUrl: '', {"user":"    baseUrl: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     baseUrl: '',"}}
[info] >      originalUrl: '/', {"user":"    originalUrl: '/',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     originalUrl: '/',"}}
[info] >      _parsedUrl: Url { {"user":"    _parsedUrl: Url {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     _parsedUrl: Url {"}}
[info] >        protocol: null, {"user":"      protocol: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       protocol: null,"}}
[info] >        slashes: null, {"user":"      slashes: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       slashes: null,"}}
[info] >        auth: null, {"user":"      auth: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       auth: null,"}}
[info] >        host: null, {"user":"      host: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       host: null,"}}
[info] >        port: null, {"user":"      port: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       port: null,"}}
[info] >        hostname: null, {"user":"      hostname: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       hostname: null,"}}
[info] >        hash: null, {"user":"      hash: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       hash: null,"}}
[info] >        search: null, {"user":"      search: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       search: null,"}}
[info] >        query: null, {"user":"      query: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       query: null,"}}
[info] >        pathname: '/', {"user":"      pathname: '/',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       pathname: '/',"}}
[info] >        path: '/', {"user":"      path: '/',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       path: '/',"}}
[info] >        href: '/', {"user":"      href: '/',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       href: '/',"}}
[info] >        _raw: '/' {"user":"      _raw: '/'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _raw: '/'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      params: { '0': '' }, {"user":"    params: { '0': '' },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     params: { '0': '' },"}}
[info] >      query: {}, {"user":"    query: {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     query: {},"}}
[info] >      res: ServerResponse { {"user":"    res: ServerResponse {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     res: ServerResponse {"}}
[info] >        _events: [Object: null prototype], {"user":"      _events: [Object: null prototype],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _events: [Object: null prototype],"}}
[info] >        _eventsCount: 1, {"user":"      _eventsCount: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _eventsCount: 1,"}}
[info] >        _maxListeners: undefined, {"user":"      _maxListeners: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _maxListeners: undefined,"}}
[info] >        outputData: [], {"user":"      outputData: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       outputData: [],"}}
[info] >        outputSize: 0, {"user":"      outputSize: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       outputSize: 0,"}}
[info] >        writable: true, {"user":"      writable: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       writable: true,"}}
[info] >        destroyed: false, {"user":"      destroyed: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       destroyed: false,"}}
[info] >        _last: false, {"user":"      _last: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _last: false,"}}
[info] >        chunkedEncoding: false, {"user":"      chunkedEncoding: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       chunkedEncoding: false,"}}
[info] >        shouldKeepAlive: true, {"user":"      shouldKeepAlive: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       shouldKeepAlive: true,"}}
[info] >        maxRequestsOnConnectionReached: false, {"user":"      maxRequestsOnConnectionReached: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       maxRequestsOnConnectionReached: false,"}}
[info] >        _defaultKeepAlive: true, {"user":"      _defaultKeepAlive: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _defaultKeepAlive: true,"}}
[info] >        useChunkedEncodingByDefault: true, {"user":"      useChunkedEncodingByDefault: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       useChunkedEncodingByDefault: true,"}}
[info] >        sendDate: true, {"user":"      sendDate: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       sendDate: true,"}}
[info] >        _removedConnection: false, {"user":"      _removedConnection: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _removedConnection: false,"}}
[info] >        _removedContLen: false, {"user":"      _removedContLen: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _removedContLen: false,"}}
[info] >        _removedTE: false, {"user":"      _removedTE: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _removedTE: false,"}}
[info] >        _contentLength: null, {"user":"      _contentLength: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _contentLength: null,"}}
[info] >        _hasBody: true, {"user":"      _hasBody: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _hasBody: true,"}}
[info] >        _trailer: '', {"user":"      _trailer: '',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _trailer: '',"}}
[info] >        finished: false, {"user":"      finished: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       finished: false,"}}
[info] >        _headerSent: false, {"user":"      _headerSent: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _headerSent: false,"}}
[info] >        _closed: false, {"user":"      _closed: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _closed: false,"}}
[info] >        socket: [Socket], {"user":"      socket: [Socket],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       socket: [Socket],"}}
[info] >        _header: null, {"user":"      _header: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _header: null,"}}
[info] >        _keepAliveTimeout: 5000, {"user":"      _keepAliveTimeout: 5000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _keepAliveTimeout: 5000,"}}
[info] >        _onPendingData: [Function: bound updateOutgoingData], {"user":"      _onPendingData: [Function: bound updateOutgoingData],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _onPendingData: [Function: bound updateOutgoingData],"}}
[info] >        req: [Circular *1], {"user":"      req: [Circular *1],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       req: [Circular *1],"}}
[info] >        _sent100: false, {"user":"      _sent100: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _sent100: false,"}}
[info] >        _expect_continue: false, {"user":"      _expect_continue: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       _expect_continue: false,"}}
[info] >        locals: [Object: null prototype] {}, {"user":"      locals: [Object: null prototype] {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       locals: [Object: null prototype] {},"}}
[info] >        [Symbol(kCapture)]: false, {"user":"      [Symbol(kCapture)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kCapture)]: false,"}}
[info] >        [Symbol(kNeedDrain)]: false, {"user":"      [Symbol(kNeedDrain)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kNeedDrain)]: false,"}}
[info] >        [Symbol(corked)]: 0, {"user":"      [Symbol(corked)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(corked)]: 0,"}}
[info] >        [Symbol(kOutHeaders)]: [Object: null prototype] {"user":"      [Symbol(kOutHeaders)]: [Object: null prototype]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       [Symbol(kOutHeaders)]: [Object: null prototype]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      body: { data: [Object] }, {"user":"    body: { data: [Object] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     body: { data: [Object] },"}}
[info] >      _body: true, {"user":"    _body: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     _body: true,"}}
[info] >      length: undefined, {"user":"    length: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     length: undefined,"}}
[info] >      rawBody: <Buffer 7b 22 64 61 74 61 22 3a 7b 22 75 69 64 22 3a 22 59 61 67 46 50 58 4f 35 44 42 58 48 57 6a 68 54 52 79 59 41 68 56 48 6c 58 75 6b 31 22 2c 22 72 6f 6c ... 17 more bytes>, {"user":"    rawBody: <Buffer 7b 22 64 61 74 61 22 3a 7b 22 75 69 64 22 3a 22 59 61 67 46 50 58 4f 35 44 42 58 48 57 6a 68 54 52 79 59 41 68 56 48 6c 58 75 6b 31 22 2c 22 72 6f 6c ... 17 more bytes>,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     rawBody: <Buffer 7b 22 64 61 74 61 22 3a 7b 22 75 69 64 22 3a 22 59 61 67 46 50 58 4f 35 44 42 58 48 57 6a 68 54 52 79 59 41 68 56 48 6c 58 75 6b 31 22 2c 22 72 6f 6c ... 17 more bytes>,"}}
[info] >      route: Route { path: '/*', stack: [Array], methods: [Object] }, {"user":"    route: Route { path: '/*', stack: [Array], methods: [Object] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     route: Route { path: '/*', stack: [Array], methods: [Object] },"}}
[info] >      [Symbol(kCapture)]: false, {"user":"    [Symbol(kCapture)]: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kCapture)]: false,"}}
[info] >      [Symbol(kHeaders)]: { {"user":"    [Symbol(kHeaders)]: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kHeaders)]: {"}}
[info] >        authorization: 'Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6ImQwZTFkMjM5MDllNzZmZjRhNzJlZTA4ODUxOWM5M2JiOTg4ZjE4NDUiLCJ0eXAiOiJKV1QifQ.eyJwcm92aWRlcl9pZCI6ImFub255bW91cyIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9waG90b3Nwb3RzLXRlc3QiLCJhdWQiOiJwaG90b3Nwb3RzLXRlc3QiLCJhdXRoX3RpbWUiOjE2ODQ4NDE0MTcsInVzZXJfaWQiOiJZYWdGUFhPNURCWEhXamhUUnlZQWhWSGxYdWsxIiwic3ViIjoiWWFnRlBYTzVEQlhIV2poVFJ5WUFoVkhsWHVrMSIsImlhdCI6MTY4NDg0MTQxNywiZXhwIjoxNjg0ODQ1MDE3LCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7fSwic2lnbl9pbl9wcm92aWRlciI6ImFub255bW91cyJ9fQ.MiXk5EX4A_Py5Ep2uD0bjWpUmX0gflHaCtWXIkJzTM7CS_pxq0NBYAB83nfQVeXsfWK8Lr5uqWl4e92jWod28RQASe8GLBrIwjeLRb9AwnaqrBeFi_lu5BwnD3bnh68hHKCfGTmd8few3s-02r4CsajllesM36-ksKRTYLaOVJgnZ3yz3o7tmtTUsa4APR7e6q0fkkdo5VXV5uMcOUVieCbo1CQ_Xu58MNreEii0Uri_WRlzHb8ciCGabdDv1ysD153HhQ6E0A_6VppEpCE56qxdL97f7DMwn9S8H8uUZPAEz4_I2eMBZC1PeH6Q4usbZQh97xIhMFsMSZoNCSW4ZQ', {"user":"      authorization: 'Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6ImQwZTFkMjM5MDllNzZmZjRhNzJlZTA4ODUxOWM5M2JiOTg4ZjE4NDUiLCJ0eXAiOiJKV1QifQ.eyJwcm92aWRlcl9pZCI6ImFub255bW91cyIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9waG90b3Nwb3RzLXRlc3QiLCJhdWQiOiJwaG90b3Nwb3RzLXRlc3QiLCJhdXRoX3RpbWUiOjE2ODQ4NDE0MTcsInVzZXJfaWQiOiJZYWdGUFhPNURCWEhXamhUUnlZQWhWSGxYdWsxIiwic3ViIjoiWWFnRlBYTzVEQlhIV2poVFJ5WUFoVkhsWHVrMSIsImlhdCI6MTY4NDg0MTQxNywiZXhwIjoxNjg0ODQ1MDE3LCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7fSwic2lnbl9pbl9wcm92aWRlciI6ImFub255bW91cyJ9fQ.MiXk5EX4A_Py5Ep2uD0bjWpUmX0gflHaCtWXIkJzTM7CS_pxq0NBYAB83nfQVeXsfWK8Lr5uqWl4e92jWod28RQASe8GLBrIwjeLRb9AwnaqrBeFi_lu5BwnD3bnh68hHKCfGTmd8few3s-02r4CsajllesM36-ksKRTYLaOVJgnZ3yz3o7tmtTUsa4APR7e6q0fkkdo5VXV5uMcOUVieCbo1CQ_Xu58MNreEii0Uri_WRlzHb8ciCGabdDv1ysD153HhQ6E0A_6VppEpCE56qxdL97f7DMwn9S8H8uUZPAEz4_I2eMBZC1PeH6Q4usbZQh97xIhMFsMSZoNCSW4ZQ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       authorization: 'Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6ImQwZTFkMjM5MDllNzZmZjRhNzJlZTA4ODUxOWM5M2JiOTg4ZjE4NDUiLCJ0eXAiOiJKV1QifQ.eyJwcm92aWRlcl9pZCI6ImFub255bW91cyIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9waG90b3Nwb3RzLXRlc3QiLCJhdWQiOiJwaG90b3Nwb3RzLXRlc3QiLCJhdXRoX3RpbWUiOjE2ODQ4NDE0MTcsInVzZXJfaWQiOiJZYWdGUFhPNURCWEhXamhUUnlZQWhWSGxYdWsxIiwic3ViIjoiWWFnRlBYTzVEQlhIV2poVFJ5WUFoVkhsWHVrMSIsImlhdCI6MTY4NDg0MTQxNywiZXhwIjoxNjg0ODQ1MDE3LCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7fSwic2lnbl9pbl9wcm92aWRlciI6ImFub255bW91cyJ9fQ.MiXk5EX4A_Py5Ep2uD0bjWpUmX0gflHaCtWXIkJzTM7CS_pxq0NBYAB83nfQVeXsfWK8Lr5uqWl4e92jWod28RQASe8GLBrIwjeLRb9AwnaqrBeFi_lu5BwnD3bnh68hHKCfGTmd8few3s-02r4CsajllesM36-ksKRTYLaOVJgnZ3yz3o7tmtTUsa4APR7e6q0fkkdo5VXV5uMcOUVieCbo1CQ_Xu58MNreEii0Uri_WRlzHb8ciCGabdDv1ysD153HhQ6E0A_6VppEpCE56qxdL97f7DMwn9S8H8uUZPAEz4_I2eMBZC1PeH6Q4usbZQh97xIhMFsMSZoNCSW4ZQ',"}}
[info] >        'firebase-instance-id-token': 'cJYYmqj1SVuBo09d3YyFGu:APA91bFG6sWrAqUFn1aIy_oIqrxvjzcNV-8heLURkL47RTVKhgT1sbfRB_mD7Dewdip7KIrxH-08tpvRT6BeiJRxXeg0PKxPvnfxToCXes2qac6Cdp67PTfTSJSdhZZkHOgnCFVT-OCC', {"user":"      'firebase-instance-id-token': 'cJYYmqj1SVuBo09d3YyFGu:APA91bFG6sWrAqUFn1aIy_oIqrxvjzcNV-8heLURkL47RTVKhgT1sbfRB_mD7Dewdip7KIrxH-08tpvRT6BeiJRxXeg0PKxPvnfxToCXes2qac6Cdp67PTfTSJSdhZZkHOgnCFVT-OCC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'firebase-instance-id-token': 'cJYYmqj1SVuBo09d3YyFGu:APA91bFG6sWrAqUFn1aIy_oIqrxvjzcNV-8heLURkL47RTVKhgT1sbfRB_mD7Dewdip7KIrxH-08tpvRT6BeiJRxXeg0PKxPvnfxToCXes2qac6Cdp67PTfTSJSdhZZkHOgnCFVT-OCC',"}}
[info] >        'x-firebase-appcheck': 'eyJraWQiOiJsWUJXVmciLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIxOjcwNjE0NTQ2OTg3NDphbmRyb2lkOjM5ZGFmZGJmOTFmYjBhYmVlYjUwYWIiLCJhdWQiOlsicHJvamVjdHNcLzcwNjE0NTQ2OTg3NCIsInByb2plY3RzXC9waG90b3Nwb3RzLXRlc3QiXSwicHJvdmlkZXIiOiJkZWJ1ZyIsImlzcyI6Imh0dHBzOlwvXC9maXJlYmFzZWFwcGNoZWNrLmdvb2dsZWFwaXMuY29tXC83MDYxNDU0Njk4NzQiLCJleHAiOjE2ODQ4NDYwMDksImlhdCI6MTY4NDg0MjQwOSwianRpIjoiRy1NOTFFSUxEZGNTLXd4ZExmbUN6dHRNdkUzRTJMdXNDTGJabDFxeXpHOCJ9.YWIihh3k48R4TrTrIoFtPiSxS4_Z6v9KeWnH6m8z0UxGva8e-vr1DIG48_ufA7_zHm2tN5dtFQZEF9xFhyyp8hF-ut7jU7nOVC6TZ0Cfk7fxUaLX9b4QLGXXR0HDhc28rcBxblwDKVE-NJPak6qBOnQv6QZJ0Rhw4tZqDecifOy97qvKJpMUiAoaQhMeMd_MkDXCt0bmG8GEsaLXj984kdvdpxw2ATLaGpkOkwGs1f0Yqq4NnelkBz9bNJiGKsKhggVV4ukPNXsbBaLEoB9X65VoK3AiFXNG66LnwGPI0_S_GeceDRvh0NODUs8-jz5nQfrPvLCr5YHt9igylHxw40VKhvZFU4nUb_HF-yztg-DcAgRV7_EIIKrP9ikSQ9-4tThOX7KuY1-A5DwMA-Og-N6rIo1PChioWOdgZwpta6zYAAz0bwHNF20DLKCqX9JAYh7pM7Fqd8j8kW7mSAwMW9UhJCLhmaJ6GxFfOshJUGKApE7EzXZnuUtKZ72FDh9Y', {"user":"      'x-firebase-appcheck': 'eyJraWQiOiJsWUJXVmciLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIxOjcwNjE0NTQ2OTg3NDphbmRyb2lkOjM5ZGFmZGJmOTFmYjBhYmVlYjUwYWIiLCJhdWQiOlsicHJvamVjdHNcLzcwNjE0NTQ2OTg3NCIsInByb2plY3RzXC9waG90b3Nwb3RzLXRlc3QiXSwicHJvdmlkZXIiOiJkZWJ1ZyIsImlzcyI6Imh0dHBzOlwvXC9maXJlYmFzZWFwcGNoZWNrLmdvb2dsZWFwaXMuY29tXC83MDYxNDU0Njk4NzQiLCJleHAiOjE2ODQ4NDYwMDksImlhdCI6MTY4NDg0MjQwOSwianRpIjoiRy1NOTFFSUxEZGNTLXd4ZExmbUN6dHRNdkUzRTJMdXNDTGJabDFxeXpHOCJ9.YWIihh3k48R4TrTrIoFtPiSxS4_Z6v9KeWnH6m8z0UxGva8e-vr1DIG48_ufA7_zHm2tN5dtFQZEF9xFhyyp8hF-ut7jU7nOVC6TZ0Cfk7fxUaLX9b4QLGXXR0HDhc28rcBxblwDKVE-NJPak6qBOnQv6QZJ0Rhw4tZqDecifOy97qvKJpMUiAoaQhMeMd_MkDXCt0bmG8GEsaLXj984kdvdpxw2ATLaGpkOkwGs1f0Yqq4NnelkBz9bNJiGKsKhggVV4ukPNXsbBaLEoB9X65VoK3AiFXNG66LnwGPI0_S_GeceDRvh0NODUs8-jz5nQfrPvLCr5YHt9igylHxw40VKhvZFU4nUb_HF-yztg-DcAgRV7_EIIKrP9ikSQ9-4tThOX7KuY1-A5DwMA-Og-N6rIo1PChioWOdgZwpta6zYAAz0bwHNF20DLKCqX9JAYh7pM7Fqd8j8kW7mSAwMW9UhJCLhmaJ6GxFfOshJUGKApE7EzXZnuUtKZ72FDh9Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-firebase-appcheck': 'eyJraWQiOiJsWUJXVmciLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIxOjcwNjE0NTQ2OTg3NDphbmRyb2lkOjM5ZGFmZGJmOTFmYjBhYmVlYjUwYWIiLCJhdWQiOlsicHJvamVjdHNcLzcwNjE0NTQ2OTg3NCIsInByb2plY3RzXC9waG90b3Nwb3RzLXRlc3QiXSwicHJvdmlkZXIiOiJkZWJ1ZyIsImlzcyI6Imh0dHBzOlwvXC9maXJlYmFzZWFwcGNoZWNrLmdvb2dsZWFwaXMuY29tXC83MDYxNDU0Njk4NzQiLCJleHAiOjE2ODQ4NDYwMDksImlhdCI6MTY4NDg0MjQwOSwianRpIjoiRy1NOTFFSUxEZGNTLXd4ZExmbUN6dHRNdkUzRTJMdXNDTGJabDFxeXpHOCJ9.YWIihh3k48R4TrTrIoFtPiSxS4_Z6v9KeWnH6m8z0UxGva8e-vr1DIG48_ufA7_zHm2tN5dtFQZEF9xFhyyp8hF-ut7jU7nOVC6TZ0Cfk7fxUaLX9b4QLGXXR0HDhc28rcBxblwDKVE-NJPak6qBOnQv6QZJ0Rhw4tZqDecifOy97qvKJpMUiAoaQhMeMd_MkDXCt0bmG8GEsaLXj984kdvdpxw2ATLaGpkOkwGs1f0Yqq4NnelkBz9bNJiGKsKhggVV4ukPNXsbBaLEoB9X65VoK3AiFXNG66LnwGPI0_S_GeceDRvh0NODUs8-jz5nQfrPvLCr5YHt9igylHxw40VKhvZFU4nUb_HF-yztg-DcAgRV7_EIIKrP9ikSQ9-4tThOX7KuY1-A5DwMA-Og-N6rIo1PChioWOdgZwpta6zYAAz0bwHNF20DLKCqX9JAYh7pM7Fqd8j8kW7mSAwMW9UhJCLhmaJ6GxFfOshJUGKApE7EzXZnuUtKZ72FDh9Y',"}}
[info] >        'content-type': 'application/json; charset=utf-8', {"user":"      'content-type': 'application/json; charset=utf-8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json; charset=utf-8',"}}
[info] >        'content-length': '67', {"user":"      'content-length': '67',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '67',"}}
[info] >        host: '10.0.2.2:5001', {"user":"      host: '10.0.2.2:5001',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       host: '10.0.2.2:5001',"}}
[info] >        connection: 'Keep-Alive', {"user":"      connection: 'Keep-Alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'Keep-Alive',"}}
[info] >        'accept-encoding': 'gzip', {"user":"      'accept-encoding': 'gzip',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'accept-encoding': 'gzip',"}}
[info] >        'user-agent': 'okhttp/4.9.2' {"user":"      'user-agent': 'okhttp/4.9.2'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       'user-agent': 'okhttp/4.9.2'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      [Symbol(kHeadersCount)]: 18, {"user":"    [Symbol(kHeadersCount)]: 18,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kHeadersCount)]: 18,"}}
[info] >      [Symbol(kTrailers)]: null, {"user":"    [Symbol(kTrailers)]: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kTrailers)]: null,"}}
[info] >      [Symbol(kTrailersCount)]: 0, {"user":"    [Symbol(kTrailersCount)]: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(kTrailersCount)]: 0,"}}
[info] >      [Symbol(RequestTimeout)]: undefined {"user":"    [Symbol(RequestTimeout)]: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     [Symbol(RequestTimeout)]: undefined"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    auth: { {"user":"  auth: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m   auth: {"}}
[info] >      uid: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1', {"user":"    uid: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     uid: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1',"}}
[info] >      token: { {"user":"    token: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     token: {"}}
[info] >        provider_id: 'anonymous', {"user":"      provider_id: 'anonymous',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       provider_id: 'anonymous',"}}
[info] >        iss: 'https://securetoken.google.com/photospots-test', {"user":"      iss: 'https://securetoken.google.com/photospots-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       iss: 'https://securetoken.google.com/photospots-test',"}}
[info] >        aud: 'photospots-test', {"user":"      aud: 'photospots-test',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       aud: 'photospots-test',"}}
[info] >        auth_time: 1684841417, {"user":"      auth_time: 1684841417,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       auth_time: 1684841417,"}}
[info] >        user_id: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1', {"user":"      user_id: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       user_id: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1',"}}
[info] >        sub: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1', {"user":"      sub: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       sub: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1',"}}
[info] >        iat: 1684841417, {"user":"      iat: 1684841417,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       iat: 1684841417,"}}
[info] >        exp: 1684845017, {"user":"      exp: 1684845017,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       exp: 1684845017,"}}
[info] >        firebase: [Object], {"user":"      firebase: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       firebase: [Object],"}}
[info] >        uid: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1' {"user":"      uid: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       uid: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    app: { {"user":"  app: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m   app: {"}}
[info] >      appId: '1:706145469874:android:39dafdbf91fb0abeeb50ab', {"user":"    appId: '1:706145469874:android:39dafdbf91fb0abeeb50ab',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     appId: '1:706145469874:android:39dafdbf91fb0abeeb50ab',"}}
[info] >      token: { {"user":"    token: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     token: {"}}
[info] >        sub: '1:706145469874:android:39dafdbf91fb0abeeb50ab', {"user":"      sub: '1:706145469874:android:39dafdbf91fb0abeeb50ab',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       sub: '1:706145469874:android:39dafdbf91fb0abeeb50ab',"}}
[info] >        aud: [Array], {"user":"      aud: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       aud: [Array],"}}
[info] >        provider: 'debug', {"user":"      provider: 'debug',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       provider: 'debug',"}}
[info] >        iss: 'https://firebaseappcheck.googleapis.com/706145469874', {"user":"      iss: 'https://firebaseappcheck.googleapis.com/706145469874',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       iss: 'https://firebaseappcheck.googleapis.com/706145469874',"}}
[info] >        exp: 1684846009, {"user":"      exp: 1684846009,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       exp: 1684846009,"}}
[info] >        iat: 1684842409, {"user":"      iat: 1684842409,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       iat: 1684842409,"}}
[info] >        jti: 'G-M91EILDdcS-wxdLfmCzttMvE3E2LusCLbZl1qyzG8', {"user":"      jti: 'G-M91EILDdcS-wxdLfmCzttMvE3E2LusCLbZl1qyzG8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       jti: 'G-M91EILDdcS-wxdLfmCzttMvE3E2LusCLbZl1qyzG8',"}}
[info] >        app_id: '1:706145469874:android:39dafdbf91fb0abeeb50ab' {"user":"      app_id: '1:706145469874:android:39dafdbf91fb0abeeb50ab'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m       app_id: '1:706145469874:android:39dafdbf91fb0abeeb50ab'"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    instanceIdToken: 'cJYYmqj1SVuBo09d3YyFGu:APA91bFG6sWrAqUFn1aIy_oIqrxvjzcNV-8heLURkL47RTVKhgT1sbfRB_mD7Dewdip7KIrxH-08tpvRT6BeiJRxXeg0PKxPvnfxToCXes2qac6Cdp67PTfTSJSdhZZkHOgnCFVT-OCC', {"user":"  instanceIdToken: 'cJYYmqj1SVuBo09d3YyFGu:APA91bFG6sWrAqUFn1aIy_oIqrxvjzcNV-8heLURkL47RTVKhgT1sbfRB_mD7Dewdip7KIrxH-08tpvRT6BeiJRxXeg0PKxPvnfxToCXes2qac6Cdp67PTfTSJSdhZZkHOgnCFVT-OCC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m   instanceIdToken: 'cJYYmqj1SVuBo09d3YyFGu:APA91bFG6sWrAqUFn1aIy_oIqrxvjzcNV-8heLURkL47RTVKhgT1sbfRB_mD7Dewdip7KIrxH-08tpvRT6BeiJRxXeg0PKxPvnfxToCXes2qac6Cdp67PTfTSJSdhZZkHOgnCFVT-OCC',"}}
[info] >    data: { uid: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1', role: 'subscriber' } {"user":"  data: { uid: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1', role: 'subscriber' }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m   data: { uid: 'YagFPXO5DBXHWjhTRyYAhVHlXuk1', role: 'subscriber' }"}}
[info] >  } undefined {"user":"} undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m } undefined"}}
[info] >  {"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'app')\n    at /home/pavel/work/react-native/Photospots/functions/index.js:8:15\n    at fixedLen (/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\n    at /home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runFunction (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\n    at async /home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21"} {"user":{"severity":"ERROR","message":"Unhandled error TypeError: Cannot read properties of undefined (reading 'app')\n    at /home/pavel/work/react-native/Photospots/functions/index.js:8:15\n    at fixedLen (/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\n    at /home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runFunction (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\n    at async /home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error TypeError: Cannot read properties of undefined (reading 'app')\\n    at /home/pavel/work/react-native/Photospots/functions/index.js:8:15\\n    at fixedLen (/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\\n    at /home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async runFunction (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (/home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\\n    at async /home/pavel/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21\"}"}}
[debug] [2023-05-23T11:46:50.684Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-addRole" in 127.884425ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finished \"us-central1-addRole\" in 127.884425ms"}}
[debug] [2023-05-23T11:46:50.684Z] [worker-us-central1-addRole-68c7b53f-c8c0-42d8-a78b-5b8d345a4467]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-68c7b53f-c8c0-42d8-a78b-5b8d345a4467]: IDLE"}}
[debug] [2023-05-23T11:46:50.685Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-05-23T11:46:50.685Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-05-23T11:46:50.685Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T11:47:08.652Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:47:09.653Z] Validating nodejs source
[debug] [2023-05-23T11:47:10.408Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:47:10.408Z] Building nodejs source
[debug] [2023-05-23T11:47:10.408Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:47:10.410Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:47:10.412Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:47:10.757Z] Serving at port 8581

[debug] [2023-05-23T11:47:10.882Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:47:10.886Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:47:10.900Z] [worker-pool] Shutting down IDLE worker (us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-addRole)"}}
[debug] [2023-05-23T11:47:10.900Z] [worker-us-central1-addRole-68c7b53f-c8c0-42d8-a78b-5b8d345a4467]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-68c7b53f-c8c0-42d8-a78b-5b8d345a4467]: FINISHING"}}
[debug] [2023-05-23T11:47:10.906Z] [worker-us-central1-addRole-68c7b53f-c8c0-42d8-a78b-5b8d345a4467]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-68c7b53f-c8c0-42d8-a78b-5b8d345a4467]: exited"}}
[debug] [2023-05-23T11:47:10.906Z] [worker-us-central1-addRole-68c7b53f-c8c0-42d8-a78b-5b8d345a4467]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-68c7b53f-c8c0-42d8-a78b-5b8d345a4467]: FINISHED"}}
[debug] [2023-05-23T11:47:13.870Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:47:14.871Z] Validating nodejs source
[debug] [2023-05-23T11:47:15.632Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:47:15.632Z] Building nodejs source
[debug] [2023-05-23T11:47:15.633Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:47:15.634Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:47:15.635Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:47:15.985Z] Serving at port 8266

[debug] [2023-05-23T11:47:16.058Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:47:16.116Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:47:16.120Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:47:17.061Z] Validating nodejs source
[debug] [2023-05-23T11:47:17.799Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:47:17.799Z] Building nodejs source
[debug] [2023-05-23T11:47:17.800Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:47:17.801Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:47:17.802Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:47:18.132Z] Serving at port 8682

[debug] [2023-05-23T11:47:18.242Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:47:18.245Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:47:19.733Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:47:20.735Z] Validating nodejs source
[debug] [2023-05-23T11:47:21.509Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:47:21.510Z] Building nodejs source
[debug] [2023-05-23T11:47:21.510Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:47:21.511Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:47:21.512Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:47:21.857Z] Serving at port 8181

[debug] [2023-05-23T11:47:21.981Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:47:21.986Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:47:23.394Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:47:24.396Z] Validating nodejs source
[debug] [2023-05-23T11:47:25.054Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:47:25.055Z] Building nodejs source
[debug] [2023-05-23T11:47:25.055Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:47:25.056Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:47:25.057Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:47:25.488Z] Serving at port 8201

[debug] [2023-05-23T11:47:25.644Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:47:25.655Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:47:48.553Z] [work-queue] {"queuedWork":["/photospots-test/us-central1/addRole-2023-05-23T11:47:48.553Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T11:47:48.554Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/photospots-test/us-central1/addRole-2023-05-23T11:47:48.553Z"],"workRunningCount":1}
[debug] [2023-05-23T11:47:48.554Z] Accepted request POST /photospots-test/us-central1/addRole --> us-central1-addRole
[debug] [2023-05-23T11:47:48.560Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-23T11:47:48.561Z] [functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/"}}
[debug] [2023-05-23T11:47:48.561Z] [worker-pool] Cleaned up workers for us-central1-addRole: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-addRole: 1 --> 0"}}
[debug] [2023-05-23T11:47:48.569Z] [worker-pool] addWorker(us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-addRole)"}}
[debug] [2023-05-23T11:47:48.569Z] [worker-pool] Adding worker with key us-central1-addRole, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-addRole, total=1"}}
[debug] [2023-05-23T11:47:49.346Z] [runtime-status] [16152] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [16152] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T11:47:49.347Z] [runtime-status] [16152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [16152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:47:49.347Z] [runtime-status] [16152] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [16152] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-23T11:47:49.349Z] [runtime-status] [16152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [16152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:47:49.492Z] [runtime-status] [16152] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [16152] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-23T11:47:49.492Z] [runtime-status] [16152] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [16152] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-23T11:47:49.493Z] [runtime-status] [16152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [16152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:47:49.494Z] [runtime-status] [16152] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [16152] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T11:47:49.496Z] [runtime-status] [16152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [16152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:47:49.496Z] [runtime-status] [16152] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [16152] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-23T11:47:49.499Z] [runtime-status] [16152] initializeApp(DEFAULT) {"storageBucket":"photospots-test.appspot.com","databaseURL":"https://photospots-test-default-rtdb.firebaseio.com","projectId":"photospots-test"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [16152] initializeApp(DEFAULT) {\"storageBucket\":\"photospots-test.appspot.com\",\"databaseURL\":\"https://photospots-test-default-rtdb.firebaseio.com\",\"projectId\":\"photospots-test\"}"}}
[debug] [2023-05-23T11:47:49.508Z] [runtime-status] [16152] Functions runtime initialized. {"cwd":"/home/pavel/work/react-native/Photospots/functions","node_version":"16.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [16152] Functions runtime initialized. {\"cwd\":\"/home/pavel/work/react-native/Photospots/functions\",\"node_version\":\"16.16.0\"}"}}
[debug] [2023-05-23T11:47:49.508Z] [runtime-status] [16152] Listening to port: /tmp/fire_emu_bd1904c889d3c14f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [16152] Listening to port: /tmp/fire_emu_bd1904c889d3c14f.sock"}}
[debug] [2023-05-23T11:47:49.592Z] [worker-us-central1-addRole-5c27d91f-d5ab-4552-aaf0-bfdd8b89bafe]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-5c27d91f-d5ab-4552-aaf0-bfdd8b89bafe]: IDLE"}}
[debug] [2023-05-23T11:47:49.592Z] [worker-pool] submitRequest(triggerId=us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-addRole)"}}
[info] i  functions: Beginning execution of "us-central1-addRole" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Beginning execution of \"us-central1-addRole\""}}
[debug] [2023-05-23T11:47:49.595Z] [worker-us-central1-addRole-5c27d91f-d5ab-4552-aaf0-bfdd8b89bafe]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-5c27d91f-d5ab-4552-aaf0-bfdd8b89bafe]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[debug] [2023-05-23T11:47:49.642Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-addRole" in 47.016861ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finished \"us-central1-addRole\" in 47.016861ms"}}
[debug] [2023-05-23T11:47:49.644Z] [worker-us-central1-addRole-5c27d91f-d5ab-4552-aaf0-bfdd8b89bafe]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-5c27d91f-d5ab-4552-aaf0-bfdd8b89bafe]: IDLE"}}
[debug] [2023-05-23T11:47:49.644Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-05-23T11:47:49.644Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-05-23T11:47:49.645Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T11:50:21.668Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:50:22.670Z] Validating nodejs source
[debug] [2023-05-23T11:50:23.462Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:50:23.462Z] Building nodejs source
[debug] [2023-05-23T11:50:23.463Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:50:23.467Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:50:23.469Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:50:24.251Z] Serving at port 8009

[debug] [2023-05-23T11:50:24.419Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:50:24.424Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:50:24.449Z] [worker-pool] Shutting down IDLE worker (us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-addRole)"}}
[debug] [2023-05-23T11:50:24.449Z] [worker-us-central1-addRole-5c27d91f-d5ab-4552-aaf0-bfdd8b89bafe]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-5c27d91f-d5ab-4552-aaf0-bfdd8b89bafe]: FINISHING"}}
[debug] [2023-05-23T11:50:24.455Z] [worker-us-central1-addRole-5c27d91f-d5ab-4552-aaf0-bfdd8b89bafe]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-5c27d91f-d5ab-4552-aaf0-bfdd8b89bafe]: exited"}}
[debug] [2023-05-23T11:50:24.455Z] [worker-us-central1-addRole-5c27d91f-d5ab-4552-aaf0-bfdd8b89bafe]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-5c27d91f-d5ab-4552-aaf0-bfdd8b89bafe]: FINISHED"}}
[debug] [2023-05-23T11:50:28.741Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:50:29.742Z] Validating nodejs source
[debug] [2023-05-23T11:50:30.639Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:50:30.640Z] Building nodejs source
[debug] [2023-05-23T11:50:30.640Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:50:30.641Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:50:30.642Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:50:31.056Z] Serving at port 8388

[debug] [2023-05-23T11:50:31.193Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:50:31.197Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:50:33.737Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:50:34.737Z] Validating nodejs source
[debug] [2023-05-23T11:50:35.525Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:50:35.525Z] Building nodejs source
[debug] [2023-05-23T11:50:35.525Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:50:35.526Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:50:35.528Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:50:35.865Z] Serving at port 8618

[debug] [2023-05-23T11:50:35.989Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:50:36.003Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:50:38.332Z] [work-queue] {"queuedWork":["/photospots-test/us-central1/addRole-2023-05-23T11:50:38.332Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T11:50:38.332Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/photospots-test/us-central1/addRole-2023-05-23T11:50:38.332Z"],"workRunningCount":1}
[debug] [2023-05-23T11:50:38.332Z] Accepted request POST /photospots-test/us-central1/addRole --> us-central1-addRole
[debug] [2023-05-23T11:50:38.334Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-23T11:50:38.335Z] [functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/"}}
[debug] [2023-05-23T11:50:38.335Z] [worker-pool] Cleaned up workers for us-central1-addRole: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-addRole: 1 --> 0"}}
[debug] [2023-05-23T11:50:38.343Z] [worker-pool] addWorker(us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-addRole)"}}
[debug] [2023-05-23T11:50:38.343Z] [worker-pool] Adding worker with key us-central1-addRole, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-addRole, total=1"}}
[debug] [2023-05-23T11:50:39.167Z] [runtime-status] [17127] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [17127] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T11:50:39.168Z] [runtime-status] [17127] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [17127] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:50:39.170Z] [runtime-status] [17127] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [17127] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-23T11:50:39.170Z] [runtime-status] [17127] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [17127] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:50:39.319Z] [runtime-status] [17127] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [17127] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-23T11:50:39.319Z] [runtime-status] [17127] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [17127] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-23T11:50:39.320Z] [runtime-status] [17127] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [17127] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:50:39.321Z] [runtime-status] [17127] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [17127] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T11:50:39.322Z] [runtime-status] [17127] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [17127] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T11:50:39.323Z] [runtime-status] [17127] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [17127] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-23T11:50:39.326Z] [runtime-status] [17127] initializeApp(DEFAULT) {"storageBucket":"photospots-test.appspot.com","databaseURL":"https://photospots-test-default-rtdb.firebaseio.com","projectId":"photospots-test"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [17127] initializeApp(DEFAULT) {\"storageBucket\":\"photospots-test.appspot.com\",\"databaseURL\":\"https://photospots-test-default-rtdb.firebaseio.com\",\"projectId\":\"photospots-test\"}"}}
[debug] [2023-05-23T11:50:39.333Z] [runtime-status] [17127] Functions runtime initialized. {"cwd":"/home/pavel/work/react-native/Photospots/functions","node_version":"16.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [17127] Functions runtime initialized. {\"cwd\":\"/home/pavel/work/react-native/Photospots/functions\",\"node_version\":\"16.16.0\"}"}}
[debug] [2023-05-23T11:50:39.334Z] [runtime-status] [17127] Listening to port: /tmp/fire_emu_6b632afab382d286.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [17127] Listening to port: /tmp/fire_emu_6b632afab382d286.sock"}}
[debug] [2023-05-23T11:50:39.363Z] [worker-us-central1-addRole-ba180b27-ce2f-45ad-b30e-1b78db581a57]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ba180b27-ce2f-45ad-b30e-1b78db581a57]: IDLE"}}
[debug] [2023-05-23T11:50:39.364Z] [worker-pool] submitRequest(triggerId=us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-addRole)"}}
[info] i  functions: Beginning execution of "us-central1-addRole" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Beginning execution of \"us-central1-addRole\""}}
[debug] [2023-05-23T11:50:39.364Z] [worker-us-central1-addRole-ba180b27-ce2f-45ad-b30e-1b78db581a57]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ba180b27-ce2f-45ad-b30e-1b78db581a57]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  CONTEXT undefined {"user":"CONTEXT undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m CONTEXT undefined"}}
[debug] [2023-05-23T11:50:39.400Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-addRole" in 35.964728ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finished \"us-central1-addRole\" in 35.964728ms"}}
[debug] [2023-05-23T11:50:39.401Z] [worker-us-central1-addRole-ba180b27-ce2f-45ad-b30e-1b78db581a57]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ba180b27-ce2f-45ad-b30e-1b78db581a57]: IDLE"}}
[debug] [2023-05-23T11:50:39.401Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-05-23T11:50:39.401Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-05-23T11:50:39.401Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T11:51:54.581Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:51:55.584Z] Validating nodejs source
[debug] [2023-05-23T11:51:56.373Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:51:56.374Z] Building nodejs source
[debug] [2023-05-23T11:51:56.374Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:51:56.376Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:51:56.377Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:51:56.728Z] Serving at port 8853

[debug] [2023-05-23T11:51:56.820Z] File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/pavel/work/react-native/Photospots/functions/index.js changed, reloading triggers"}}
[debug] [2023-05-23T11:51:56.861Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:51:56.867Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T11:51:56.887Z] [worker-pool] Shutting down IDLE worker (us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-addRole)"}}
[debug] [2023-05-23T11:51:56.888Z] [worker-us-central1-addRole-ba180b27-ce2f-45ad-b30e-1b78db581a57]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ba180b27-ce2f-45ad-b30e-1b78db581a57]: FINISHING"}}
[debug] [2023-05-23T11:51:56.900Z] [worker-us-central1-addRole-ba180b27-ce2f-45ad-b30e-1b78db581a57]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ba180b27-ce2f-45ad-b30e-1b78db581a57]: exited"}}
[debug] [2023-05-23T11:51:56.900Z] [worker-us-central1-addRole-ba180b27-ce2f-45ad-b30e-1b78db581a57]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ba180b27-ce2f-45ad-b30e-1b78db581a57]: FINISHED"}}
[debug] [2023-05-23T11:51:57.822Z] Validating nodejs source
[debug] [2023-05-23T11:51:58.590Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-23T11:51:58.590Z] Building nodejs source
[debug] [2023-05-23T11:51:58.590Z] Failed to find version of module node: reached end of search path /home/pavel/work/react-native/Photospots/functions/node_modules
[warn] ⚠  functions: You've requested "node" version "18", but the standalone Firebase CLI comes with bundled Node "16". 
[info] ✔  functions: To use a different Node.js version, consider removing the standalone Firebase CLI and switching to "firebase-tools" on npm. 
[debug] [2023-05-23T11:51:58.592Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-23T11:51:58.593Z] Found firebase-functions binary at '/home/pavel/work/react-native/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-23T11:51:58.973Z] Serving at port 8579

[debug] [2023-05-23T11:51:59.098Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-23T11:51:59.102Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[debug] [2023-05-23T12:27:11.412Z] [work-queue] {"queuedWork":["/photospots-test/us-central1/addRole-2023-05-23T12:27:11.411Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T12:27:11.412Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/photospots-test/us-central1/addRole-2023-05-23T12:27:11.411Z"],"workRunningCount":1}
[debug] [2023-05-23T12:27:11.413Z] Accepted request POST /photospots-test/us-central1/addRole --> us-central1-addRole
[debug] [2023-05-23T12:27:11.419Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-23T12:27:11.420Z] [functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/"}}
[debug] [2023-05-23T12:27:11.420Z] [worker-pool] Cleaned up workers for us-central1-addRole: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-addRole: 1 --> 0"}}
[debug] [2023-05-23T12:27:11.432Z] [worker-pool] addWorker(us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-addRole)"}}
[debug] [2023-05-23T12:27:11.433Z] [worker-pool] Adding worker with key us-central1-addRole, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-addRole, total=1"}}
[debug] [2023-05-23T12:27:12.154Z] [runtime-status] [24261] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [24261] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T12:27:12.155Z] [runtime-status] [24261] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [24261] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T12:27:12.156Z] [runtime-status] [24261] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [24261] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-23T12:27:12.157Z] [runtime-status] [24261] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [24261] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T12:27:12.300Z] [runtime-status] [24261] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [24261] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-23T12:27:12.300Z] [runtime-status] [24261] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [24261] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-23T12:27:12.301Z] [runtime-status] [24261] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [24261] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T12:27:12.302Z] [runtime-status] [24261] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [24261] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-23T12:27:12.303Z] [runtime-status] [24261] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [24261] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-23T12:27:12.303Z] [runtime-status] [24261] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.8.0","resolution":"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [24261] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/home/pavel/work/react-native/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-23T12:27:12.307Z] [runtime-status] [24261] initializeApp(DEFAULT) {"storageBucket":"photospots-test.appspot.com","databaseURL":"https://photospots-test-default-rtdb.firebaseio.com","projectId":"photospots-test"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [24261] initializeApp(DEFAULT) {\"storageBucket\":\"photospots-test.appspot.com\",\"databaseURL\":\"https://photospots-test-default-rtdb.firebaseio.com\",\"projectId\":\"photospots-test\"}"}}
[debug] [2023-05-23T12:27:12.314Z] [runtime-status] [24261] Functions runtime initialized. {"cwd":"/home/pavel/work/react-native/Photospots/functions","node_version":"16.16.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [24261] Functions runtime initialized. {\"cwd\":\"/home/pavel/work/react-native/Photospots/functions\",\"node_version\":\"16.16.0\"}"}}
[debug] [2023-05-23T12:27:12.314Z] [runtime-status] [24261] Listening to port: /tmp/fire_emu_263e3230f3ae4391.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [24261] Listening to port: /tmp/fire_emu_263e3230f3ae4391.sock"}}
[debug] [2023-05-23T12:27:12.344Z] [worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: IDLE"}}
[debug] [2023-05-23T12:27:12.345Z] [worker-pool] submitRequest(triggerId=us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-addRole)"}}
[info] i  functions: Beginning execution of "us-central1-addRole" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Beginning execution of \"us-central1-addRole\""}}
[debug] [2023-05-23T12:27:12.345Z] [worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[debug] [2023-05-23T12:27:13.152Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-addRole" in 807.096608ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finished \"us-central1-addRole\" in 807.096608ms"}}
[debug] [2023-05-23T12:27:13.153Z] [worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: IDLE"}}
[debug] [2023-05-23T12:27:13.153Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-05-23T12:27:13.154Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-05-23T12:27:13.154Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T12:33:34.432Z] [work-queue] {"queuedWork":["/photospots-test/us-central1/addRole-2023-05-23T12:33:34.432Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T12:33:34.432Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/photospots-test/us-central1/addRole-2023-05-23T12:33:34.432Z"],"workRunningCount":1}
[debug] [2023-05-23T12:33:34.433Z] Accepted request POST /photospots-test/us-central1/addRole --> us-central1-addRole
[debug] [2023-05-23T12:33:34.437Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-23T12:33:34.437Z] [functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/"}}
[debug] [2023-05-23T12:33:34.437Z] [worker-pool] submitRequest(triggerId=us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-addRole)"}}
[info] i  functions: Beginning execution of "us-central1-addRole" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Beginning execution of \"us-central1-addRole\""}}
[debug] [2023-05-23T12:33:34.439Z] [worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[debug] [2023-05-23T12:33:35.168Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-addRole" in 729.712241ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finished \"us-central1-addRole\" in 729.712241ms"}}
[debug] [2023-05-23T12:33:35.169Z] [worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: IDLE"}}
[debug] [2023-05-23T12:33:35.170Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-05-23T12:33:35.170Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-05-23T12:33:35.170Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T13:12:21.192Z] [work-queue] {"queuedWork":["/photospots-test/us-central1/addRole-2023-05-23T13:12:21.192Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T13:12:21.192Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/photospots-test/us-central1/addRole-2023-05-23T13:12:21.192Z"],"workRunningCount":1}
[debug] [2023-05-23T13:12:21.192Z] Accepted request POST /photospots-test/us-central1/addRole --> us-central1-addRole
[debug] [2023-05-23T13:12:21.195Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-23T13:12:21.195Z] [functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/"}}
[debug] [2023-05-23T13:12:21.195Z] [worker-pool] submitRequest(triggerId=us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-addRole)"}}
[info] i  functions: Beginning execution of "us-central1-addRole" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Beginning execution of \"us-central1-addRole\""}}
[debug] [2023-05-23T13:12:21.196Z] [worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[debug] [2023-05-23T13:12:21.956Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-addRole" in 760.802132ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finished \"us-central1-addRole\" in 760.802132ms"}}
[debug] [2023-05-23T13:12:21.958Z] [worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: IDLE"}}
[debug] [2023-05-23T13:12:21.959Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-05-23T13:12:21.959Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-05-23T13:12:21.959Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T13:23:31.062Z] [work-queue] {"queuedWork":["/photospots-test/us-central1/addRole-2023-05-23T13:23:31.062Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-23T13:23:31.062Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/photospots-test/us-central1/addRole-2023-05-23T13:23:31.062Z"],"workRunningCount":1}
[debug] [2023-05-23T13:23:31.062Z] Accepted request POST /photospots-test/us-central1/addRole --> us-central1-addRole
[debug] [2023-05-23T13:23:31.064Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-23T13:23:31.064Z] [functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/"}}
[debug] [2023-05-23T13:23:31.065Z] [worker-pool] submitRequest(triggerId=us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-addRole)"}}
[info] i  functions: Beginning execution of "us-central1-addRole" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Beginning execution of \"us-central1-addRole\""}}
[debug] [2023-05-23T13:23:31.066Z] [worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: BUSY"}}
[info] >  {"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"VALID","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"VALID\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[debug] [2023-05-23T13:23:31.955Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-addRole" in 888.675966ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finished \"us-central1-addRole\" in 888.675966ms"}}
[debug] [2023-05-23T13:23:31.956Z] [worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-ab27de7c-840b-4349-8b49-acd3c01f72ec]: IDLE"}}
[debug] [2023-05-23T13:23:31.956Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-05-23T13:23:31.957Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-05-23T13:23:31.957Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-24T13:16:00.567Z] ----------------------------------------------------------------------
[debug] [2023-05-24T13:16:00.569Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start --only functions
[debug] [2023-05-24T13:16:00.570Z] CLI Version:   12.2.0
[debug] [2023-05-24T13:16:00.570Z] Platform:      darwin
[debug] [2023-05-24T13:16:00.570Z] Node Version:  v16.13.1
[debug] [2023-05-24T13:16:00.576Z] Time:          Wed May 24 2023 16:16:00 GMT+0300 (Moscow Standard Time)
[debug] [2023-05-24T13:16:00.576Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-05-24T13:16:00.798Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-05-24T13:16:00.799Z] > authorizing via signed-in user (joikervik@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2023-05-24T13:16:01.522Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-05-24T13:16:01.523Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-05-24T13:16:01.537Z] [hub] writing locator at /var/folders/wg/jhq43x156pvftv8f09rs2yn00000gn/T/hub-photospots-test.json
[debug] [2023-05-24T13:16:02.041Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-05-24T13:16:02.042Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-05-24T13:16:02.042Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage\u001b[22m"}}
[debug] [2023-05-24T13:16:02.055Z] defaultcredentials: writing to file /Users/vartotojas/.config/firebase/joikervik_gmail_com_application_default_credentials.json
[debug] [2023-05-24T13:16:02.066Z] Setting GAC to /Users/vartotojas/.config/firebase/joikervik_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/vartotojas/.config/firebase/joikervik_gmail_com_application_default_credentials.json"}}
[debug] [2023-05-24T13:16:02.068Z] > refreshing access token with scopes: []
[debug] [2023-05-24T13:16:02.070Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-05-24T13:16:02.070Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-05-24T13:16:02.212Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-05-24T13:16:02.212Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-05-24T13:16:02.235Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/photospots-test/adminSdkConfig [none]
[debug] [2023-05-24T13:16:02.556Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/photospots-test/adminSdkConfig 200
[debug] [2023-05-24T13:16:02.556Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/photospots-test/adminSdkConfig {"projectId":"photospots-test","databaseURL":"https://photospots-test-default-rtdb.firebaseio.com","storageBucket":"photospots-test.appspot.com"}
[debug] [2023-05-24T13:16:02.582Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-05-24T13:16:02.582Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-05-24T13:16:02.582Z] Starting Emulator UI with command {"binary":"node","args":["/Users/vartotojas/.cache/firebase/emulators/ui-v1.11.6/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/vartotojas/.cache/firebase/emulators/ui-v1.11.6/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-05-24T13:16:02.776Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-05-24T13:16:02.780Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/vartotojas/Documents/Work/Photospots/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/vartotojas/Documents/Work/Photospots/functions\" for Cloud Functions..."}}
[debug] [2023-05-24T13:16:02.870Z] Validating nodejs source
[debug] [2023-05-24T13:16:03.944Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-05-24T13:16:03.946Z] Building nodejs source
[debug] [2023-05-24T13:16:03.946Z] Failed to find version of module node: reached end of search path /Users/vartotojas/Documents/Work/Photospots/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "16". Using node@16 from host. 
[debug] [2023-05-24T13:16:03.951Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-05-24T13:16:03.958Z] Found firebase-functions binary at '/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/.bin/firebase-functions'
[debug] [2023-05-24T13:16:04.483Z] Serving at port 8135

[debug] [2023-05-24T13:16:04.853Z] Got response from /__/functions.yaml {"endpoints":{"addRole":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"addRole"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-05-24T13:16:04.911Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: addRole. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: addRole."}}
[info] ✔  functions[us-central1-addRole]: http function initialized (http://127.0.0.1:5001/photospots-test/us-central1/addRole). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/photospots-test/us-central1/addRole)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-05-24T13:21:52.405Z] [work-queue] {"queuedWork":["/photospots-test/us-central1/addRole-2023-05-24T13:21:52.405Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-24T13:21:52.406Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/photospots-test/us-central1/addRole-2023-05-24T13:21:52.405Z"],"workRunningCount":1}
[debug] [2023-05-24T13:21:52.406Z] Accepted request POST /photospots-test/us-central1/addRole --> us-central1-addRole
[debug] [2023-05-24T13:21:52.411Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-24T13:21:52.411Z] [functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/"}}
[debug] [2023-05-24T13:21:52.423Z] [worker-pool] addWorker(us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-addRole)"}}
[debug] [2023-05-24T13:21:52.425Z] [worker-pool] Adding worker with key us-central1-addRole, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-addRole, total=1"}}
[debug] [2023-05-24T13:21:53.862Z] [runtime-status] [14107] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14107] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-24T13:21:53.864Z] [runtime-status] [14107] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14107] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-24T13:21:53.865Z] [runtime-status] [14107] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14107] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-05-24T13:21:53.865Z] [runtime-status] [14107] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14107] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-24T13:21:54.179Z] [runtime-status] [14107] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14107] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-05-24T13:21:54.179Z] [runtime-status] [14107] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.0","resolution":"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14107] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-05-24T13:21:54.179Z] [runtime-status] [14107] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14107] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-24T13:21:54.180Z] [runtime-status] [14107] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.8.0","resolution":"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14107] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-05-24T13:21:54.182Z] [runtime-status] [14107] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.0","resolution":"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14107] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.0\",\"resolution\":\"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-05-24T13:21:54.183Z] [runtime-status] [14107] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.8.0","resolution":"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14107] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.8.0\",\"resolution\":\"/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-05-24T13:21:54.188Z] [runtime-status] [14107] initializeApp(DEFAULT) {"storageBucket":"photospots-test.appspot.com","databaseURL":"https://photospots-test-default-rtdb.firebaseio.com","projectId":"photospots-test"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14107] initializeApp(DEFAULT) {\"storageBucket\":\"photospots-test.appspot.com\",\"databaseURL\":\"https://photospots-test-default-rtdb.firebaseio.com\",\"projectId\":\"photospots-test\"}"}}
[debug] [2023-05-24T13:21:54.200Z] [runtime-status] [14107] Functions runtime initialized. {"cwd":"/Users/vartotojas/Documents/Work/Photospots/functions","node_version":"16.13.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14107] Functions runtime initialized. {\"cwd\":\"/Users/vartotojas/Documents/Work/Photospots/functions\",\"node_version\":\"16.13.1\"}"}}
[debug] [2023-05-24T13:21:54.201Z] [runtime-status] [14107] Listening to port: /var/folders/wg/jhq43x156pvftv8f09rs2yn00000gn/T/fire_emu_02e61d84d3ff8cc7.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[runtime-status] [14107] Listening to port: /var/folders/wg/jhq43x156pvftv8f09rs2yn00000gn/T/fire_emu_02e61d84d3ff8cc7.sock"}}
[debug] [2023-05-24T13:21:54.252Z] [worker-us-central1-addRole-527e7b9e-1015-42b5-b502-f4743b5ae869]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-527e7b9e-1015-42b5-b502-f4743b5ae869]: IDLE"}}
[debug] [2023-05-24T13:21:54.252Z] [worker-pool] submitRequest(triggerId=us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-addRole)"}}
[info] i  functions: Beginning execution of "us-central1-addRole" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Beginning execution of \"us-central1-addRole\""}}
[debug] [2023-05-24T13:21:54.253Z] [worker-us-central1-addRole-527e7b9e-1015-42b5-b502-f4743b5ae869]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-527e7b9e-1015-42b5-b502-f4743b5ae869]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  {"severity":"ERROR","message":"Unhandled error ReferenceError: functions is not defined\n    at /Users/vartotojas/Documents/Work/Photospots/functions/index.js:8:5\n    at fixedLen (/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\n    at /Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\n    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21"} {"user":{"severity":"ERROR","message":"Unhandled error ReferenceError: functions is not defined\n    at /Users/vartotojas/Documents/Work/Photospots/functions/index.js:8:5\n    at fixedLen (/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\n    at /Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\n    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error ReferenceError: functions is not defined\\n    at /Users/vartotojas/Documents/Work/Photospots/functions/index.js:8:5\\n    at fixedLen (/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\\n    at /Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\\n    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21\"}"}}
[debug] [2023-05-24T13:21:54.274Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-addRole" in 21.470503ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finished \"us-central1-addRole\" in 21.470503ms"}}
[debug] [2023-05-24T13:21:54.276Z] [worker-us-central1-addRole-527e7b9e-1015-42b5-b502-f4743b5ae869]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-527e7b9e-1015-42b5-b502-f4743b5ae869]: IDLE"}}
[debug] [2023-05-24T13:21:54.276Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-05-24T13:21:54.276Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-05-24T13:21:54.276Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-24T13:22:21.087Z] [work-queue] {"queuedWork":["/photospots-test/us-central1/addRole-2023-05-24T13:22:21.087Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-05-24T13:22:21.087Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/photospots-test/us-central1/addRole-2023-05-24T13:22:21.087Z"],"workRunningCount":1}
[debug] [2023-05-24T13:22:21.088Z] Accepted request POST /photospots-test/us-central1/addRole --> us-central1-addRole
[debug] [2023-05-24T13:22:21.091Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-05-24T13:22:21.091Z] [functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/photospots-test/us-central1/addRole, mapping to path=/"}}
[debug] [2023-05-24T13:22:21.091Z] [worker-pool] submitRequest(triggerId=us-central1-addRole) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-addRole)"}}
[info] i  functions: Beginning execution of "us-central1-addRole" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Beginning execution of \"us-central1-addRole\""}}
[debug] [2023-05-24T13:22:21.092Z] [worker-us-central1-addRole-527e7b9e-1015-42b5-b502-f4743b5ae869]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-527e7b9e-1015-42b5-b502-f4743b5ae869]: BUSY"}}
[info] >  {"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"} {"user":{"verifications":{"app":"MISSING","auth":"VALID"},"logging.googleapis.com/labels":{"firebase-log-type":"callable-request-verification"},"severity":"DEBUG","message":"Callable request verification passed"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"verifications\":{\"app\":\"MISSING\",\"auth\":\"VALID\"},\"logging.googleapis.com/labels\":{\"firebase-log-type\":\"callable-request-verification\"},\"severity\":\"DEBUG\",\"message\":\"Callable request verification passed\"}"}}
[info] >  {"severity":"ERROR","message":"Unhandled error ReferenceError: functions is not defined\n    at /Users/vartotojas/Documents/Work/Photospots/functions/index.js:8:5\n    at fixedLen (/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\n    at /Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\n    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21"} {"user":{"severity":"ERROR","message":"Unhandled error ReferenceError: functions is not defined\n    at /Users/vartotojas/Documents/Work/Photospots/functions/index.js:8:5\n    at fixedLen (/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\n    at /Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\n    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Unhandled error ReferenceError: functions is not defined\\n    at /Users/vartotojas/Documents/Work/Photospots/functions/index.js:8:5\\n    at fixedLen (/Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/v2/providers/https.js:118:31)\\n    at /Users/vartotojas/Documents/Work/Photospots/functions/node_modules/firebase-functions/lib/common/providers/https.js:467:32\\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\\n    at async runFunction (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\\n    at async /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:693:21\"}"}}
[debug] [2023-05-24T13:22:21.096Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-addRole" in 4.705293ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finished \"us-central1-addRole\" in 4.705293ms"}}
[debug] [2023-05-24T13:22:21.097Z] [worker-us-central1-addRole-527e7b9e-1015-42b5-b502-f4743b5ae869]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"[worker-us-central1-addRole-527e7b9e-1015-42b5-b502-f4743b5ae869]: IDLE"}}
[debug] [2023-05-24T13:22:21.097Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-05-24T13:22:21.097Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-addRole"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-05-24T13:22:21.097Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
